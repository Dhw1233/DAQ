(function(t){function a(a){for(var i,r,o=a[0],c=a[1],l=a[2],h=0,d=[];h<o.length;h++)r=o[h],Object.prototype.hasOwnProperty.call(s,r)&&s[r]&&d.push(s[r][0]),s[r]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);u&&u(a);while(d.length)d.shift()();return n.push.apply(n,l||[]),e()}function e(){for(var t,a=0;a<n.length;a++){for(var e=n[a],i=!0,o=1;o<e.length;o++){var c=e[o];0!==s[c]&&(i=!1)}i&&(n.splice(a--,1),t=r(r.s=e[0]))}return t}var i={},s={App:0},n=[];function r(a){if(i[a])return i[a].exports;var e=i[a]={i:a,l:!1,exports:{}};return t[a].call(e.exports,e,e.exports,r),e.l=!0,e.exports}r.m=t,r.c=i,r.d=function(t,a,e){r.o(t,a)||Object.defineProperty(t,a,{enumerable:!0,get:e})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,a){if(1&a&&(t=r(t)),8&a)return t;if(4&a&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(r.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&a&&"string"!=typeof t)for(var i in t)r.d(e,i,function(a){return t[a]}.bind(null,i));return e},r.n=function(t){var a=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(a,"a",a),a},r.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)},r.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=a,o=o.slice();for(var l=0;l<o.length;l++)a(o[l]);var u=c;n.push([1,"chunk-vendors"]),e()})({0:function(t,a){},1:function(t,a,e){t.exports=e("cd49")},"12cf":function(t,a,e){},"1cba":function(t,a,e){"use strict";var i=e("adb7"),s=e.n(i);s.a},2:function(t,a){},2891:function(t,a,e){"use strict";var i=e("3e5f"),s=e.n(i);s.a},"2d1f2":function(t,a,e){"use strict";var i=e("4f9a"),s=e.n(i);s.a},3:function(t,a){},"3e5f":function(t,a,e){},4465:function(t,a,e){"use strict";var i=e("f0bd"),s=e.n(i);s.a},4919:function(t,a,e){},"49c6":function(t,a,e){},"4f9a":function(t,a,e){},5671:function(t,a,e){"use strict";var i=e("fc66"),s=e.n(i);s.a},5796:function(t,a,e){"use strict";var i=e("c25a"),s=e.n(i);s.a},"5c0b":function(t,a,e){"use strict";var i=e("e332"),s=e.n(i);s.a},"5cb4":function(t,a,e){},"79ae":function(t,a,e){},"806b":function(t,a,e){},9245:function(t,a,e){"use strict";var i=e("d77c"),s=e.n(i);s.a},"94e7":function(t,a,e){"use strict";var i=e("12cf"),s=e.n(i);s.a},"9b17":function(t,a,e){"use strict";var i=e("5cb4"),s=e.n(i);s.a},"9c29":function(t,a,e){"use strict";var i=e("79ae"),s=e.n(i);s.a},a1f5:function(t,a,e){"use strict";var i=e("e500"),s=e.n(i);s.a},a899:function(t,a,e){},adb7:function(t,a,e){},b726:function(t,a,e){"use strict";e.d(a,"a",(function(){return r}));e("456d"),e("5df3"),e("f400");var i=e("768b"),s=(e("ac4d"),e("8a81"),e("ac6a"),e("d225")),n=e("b0b4"),r=function(){function t(){Object(s["a"])(this,t)}return Object(n["a"])(t,[{key:"strMapToObj",value:function(t){var a=Object.create(null),e=!0,s=!1,n=void 0;try{for(var r,o=t[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var c=Object(i["a"])(r.value,2),l=c[0],u=c[1];a[l]=u}}catch(h){s=!0,n=h}finally{try{e||null==o.return||o.return()}finally{if(s)throw n}}return a}},{key:"objToStrMap",value:function(t){for(var a=new Map,e=0,i=Object.keys(t);e<i.length;e++){var s=i[e];a.set(s,t[s])}return a}}]),t}()},bc64:function(t,a,e){"use strict";var i=e("806b"),s=e.n(i);s.a},c13e:function(t,a,e){"use strict";var i=e("49c6"),s=e.n(i);s.a},c25a:function(t,a,e){},cd49:function(t,a,e){"use strict";e.r(a);e("cadf"),e("551c"),e("f751"),e("097d"),e("1f54"),e("5abe");var i=e("2b0e"),s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{attrs:{id:"app"}},[e("nav",{staticClass:"navbar is-info",attrs:{role:"navigation","aria-label":"main navigation"}},[t._m(0),e("div",{staticClass:"navbar-menu",attrs:{id:"navbarhome"}},[e("div",{staticClass:"navbar-start "},[e("div",{staticClass:"navbar-item has-dropdown is-hoverable navpadding"},[e("a",{staticClass:"navbar-link "},[t._v("\n                            Add Widget\n                        ")]),e("div",{staticClass:"navbar-dropdown"},t._l(t.availableWidgets,(function(a,i){return e("a",{key:i,staticClass:"navbar-item",on:{click:function(e){return t.addWidget(a)}}},[t._v("\n                                "+t._s(a)+"\n                            ")])})),0)]),e("a",{staticClass:"navbar-item navpadding",on:{click:t.saveWidgetList}},[t._v("\n                        Save\n                    ")]),e("a",{staticClass:"navbar-item navpadding",on:{click:t.refactor}},[t._v("\n                        Widget layout\n                    ")])]),e("div",{staticClass:"navbar-end uploadlocal"},[e("div",{staticClass:"navbar-item"},[e("div",{staticClass:"file has-name is-right is-fullwidth ",attrs:{id:"file"},on:{change:t.loadTextFromFile}},[t._m(1),e("div",{staticClass:"buttonbg"})])])])])]),e("div",{staticStyle:{"min-height":"100vh"},attrs:{id:"appLeftClick"}},[e("grid-layout",{attrs:{layout:t.widgetList,"col-num":30,"row-height":22,"is-draggable":t.isShowDrag,"is-resizable":t.isShowRes,"is-mirrored":!1,"vertical-compact":!0,margin:[10,10],"use-css-transforms":!0,autoSize:!0},on:{"update:layout":function(a){t.widgetList=a}}},t._l(t.widgetList,(function(a,i){return e("grid-item",{key:a.i,staticClass:"refactor",attrs:{x:a.x,y:a.y,w:a.w,h:a.h,i:a.i,"drag-allow-from":".vue-draggable-handle","drag-ignore-from":".no-drag"}},[e("div",{staticStyle:{"border-color":"rgb(206, 212, 218)"}},[e("div",{staticClass:" columns",staticStyle:{"margin-bottom":"0px","margin-left":"5px"}})]),e(a.widgetComponentName,{ref:a.ref,refInFor:!0,tag:"component",staticClass:"vue-draggable-handle",attrs:{id:"widget",refIndex:a.ref,index:i,widgetList:t.widgetList},on:{del:t.deleteWidget,schemas:t.getSchemas}})],1)})),1)],1)])},n=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("a",{staticClass:"navbar-burger burger",attrs:{role:"button","aria-label":"menu","aria-expanded":"false","data-target":"navbarhome"}},[e("span",{attrs:{"aria-hidden":"true"}}),e("span",{attrs:{"aria-hidden":"true"}}),e("span",{attrs:{"aria-hidden":"true"}})])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("label",{staticClass:"file-label",staticStyle:{position:"relative",left:"112px"}},[e("input",{staticClass:"file-input",attrs:{type:"file",name:"resume"}}),e("span",{staticClass:"file-cta",staticStyle:{"margin-bottom":"3.2px","margin-right":"3.2px"}},[e("span",{staticClass:"file-icon"},[e("i",{staticClass:"fa fa-cloud-upload"})]),e("span",{staticClass:"file-label"},[t._v("\n      Browse\n    ")])]),e("span",{staticClass:"file-name filew"},[t._v("\n   Choose a widgetTemplate file to load\n  ")])])}],r=e("75fc"),o=(e("ac4d"),e("8a81"),e("ac6a"),e("c5f6"),e("6b54"),e("f559"),e("d225")),c=e("b0b4"),l=e("308d"),u=e("6bb5"),h=e("4e2b"),d=e("9ab4"),p=e("60a3"),g=e("bc3a"),f=e.n(g),m=e("7be8"),v=function t(){Object(o["a"])(this,t),this.widgetComponentName="",this.ref="",this.x=0,this.y=0,this.w=8,this.h=6,this.i=0},b=function t(){Object(o["a"])(this,t),this.widgetList=[]},w=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"container",staticStyle:{"margin-top":"30px"},attrs:{id:"RightClick"}},[e("div",{staticClass:"columns content ",class:t.EditData.props.titleSize,staticStyle:{"margin-bottom":"0px","padding-left":"7px"}},[e("div",{staticClass:"column content-table-cell-heading-color is-narrow",staticStyle:{margin:"0px",padding:"0px"}},[e("h3",[t._v(t._s(t.EditData.props.title))])])]),e("div",{staticClass:"columns",staticStyle:{"margin-bottom":"0px"}},[e("div",{ref:"gauge",staticClass:"column is-four-sixths is-offset-one-sixth gauge",staticStyle:{height:"250px",overflow:"auto"}})]),e("div",{staticStyle:{display:"flex","justify-content":"center"}},[e("div",{style:{color:t.activeColor,fontSize:t.EditData.props.fontSize+"px"}},[t._v(t._s(t.StatusValue))]),t.EditData.edit.isShowStateVlaue?e("div",{staticStyle:{"margin-left":"5px"},style:{color:t.activeColor,fontSize:t.EditData.props.fontSize+"px"}},[t._v(t._s(t.EditData.props.unit))]):t._e(),e("WidgetParams",{directives:[{name:"show",rawName:"v-show",value:t.isShowParams,expression:"isShowParams"}],ref:"WidgetParams",staticClass:"column",attrs:{action:"get"},on:{updataVariables:t.viewLoad}})],1)])},y=[],P=(e("a481"),e("96cf"),e("3b8d")),S=(e("386d"),e("5df3"),e("f400"),e("2fe1")),C=function(t){function a(){return Object(o["a"])(this,a),Object(l["a"])(this,Object(u["a"])(a).apply(this,arguments))}return Object(h["a"])(a,t),a}(p["Vue"]),x=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticStyle:{width:"100%"}},[t._l(t.userInputData.keys(),(function(a,i){return e("div",{key:i},[e("div",{staticClass:"field is-horizontal",staticStyle:{margin:"5px"}},[e("div",{staticClass:"field-label is-normal"},[e("label",{staticClass:"label"},[t._v(t._s(a))])]),e("div",{staticClass:"field-body"},[e("div",{staticClass:"field"},[e("div",{staticClass:"control"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.tempUserInputData[a],expression:"tempUserInputData[label]"}],staticClass:"input",attrs:{type:"text"},domProps:{value:t.tempUserInputData[a]},on:{input:function(e){e.target.composing||t.$set(t.tempUserInputData,a,e.target.value)}}})])])])])])})),t.isShowGet?e("div",{staticClass:"columns",staticStyle:{width:"100%",margin:"5px"}},[e("button",{staticClass:"button column is-offset-9 is-2",staticStyle:{"background-color":"#216dec","padding-top":"6px"},on:{click:t.update}},[t._v(t._s(t.action)+"\n        "),e("i",{staticClass:"fa fa-download",attrs:{"aria-hidden":"true"}})])]):t._e()],2)},D=[],O=function(t){function a(){var t;return Object(o["a"])(this,a),t=Object(l["a"])(this,Object(u["a"])(a).apply(this,arguments)),t.userInputData=new Map,t.tempUserInputData={},t.isShowGet=!1,t}return Object(h["a"])(a,t),Object(c["a"])(a,[{key:"showGet",value:function(t){this.isShowGet=t}},{key:"setVariableList",value:function(t){var a=this;console.log(t),this.userInputData.clear(),t.forEach((function(t){a.userInputData.set(t,""),console.log("afterpathextract"),console.log(a.userInputData)})),console.log(this.userInputData),this.$forceUpdate()}},{key:"setVariableInput",value:function(t){var a=!0,e=!1,i=void 0;try{for(var s,n=t.keys()[Symbol.iterator]();!(a=(s=n.next()).done);a=!0){var r=s.value;this.tempUserInputData[r]=t.get(r)}}catch(o){e=!0,i=o}finally{try{a||null==n.return||n.return()}finally{if(e)throw i}}}},{key:"getVariableValues",value:function(){var t=!0,a=!1,e=void 0;try{for(var i,s=this.userInputData.keys()[Symbol.iterator]();!(t=(i=s.next()).done);t=!0){var n=i.value;this.userInputData.set(n,this.tempUserInputData[n])}}catch(r){a=!0,e=r}finally{try{t||null==s.return||s.return()}finally{if(a)throw e}}return console.log(this.tempUserInputData[n]),this.userInputData}},{key:"update",value:function(){var t={action:this.action,variables:this.getVariableValues(),target:["self"]};console.log(t),this.$emit("updataVariables",t)}}]),a}(p["Vue"]);Object(d["__decorate"])([Object(p["Prop"])()],O.prototype,"action",void 0),O=Object(d["__decorate"])([p["Component"]],O);var k=O,E=k,I=e("2877"),j=Object(I["a"])(E,x,D,!1,null,null,null),_=j.exports,V=(e("4917"),function(){function t(){Object(o["a"])(this,t)}return Object(c["a"])(t,[{key:"FillPathWithVar",value:function(t,a){var e=/(?<=\$)\w*(?=\$)/g,i="",s=a.match(e);return null!=s&&t.forEach((function(t,e){s.forEach((function(s){s==e&&(i="$"+s+"$",a=a.replace(i,t))}))})),a}},{key:"extractVarFromPath",value:function(t){var a;a=[];var e=/(?<=\$)\w*(?=\$)/g,i=t.match(e);return null!=i&&i.forEach((function(t){""!=t&&a.push(t)})),console.log("extract"+a),a}}]),t}()),$=e("b726"),L=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",{staticStyle:{width:"100%",margin:"5px"}},[e("button",{staticClass:"button is-dark",staticStyle:{float:"right"},on:{click:t.showNavigation}},[t._v("Navigation")])]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowNavigation&&t.isShowParentPath,expression:"isShowNavigation&&isShowParentPath"}],staticStyle:{width:"100%",height:"25px"}},[e("b-link",{staticClass:"smallFont",staticStyle:{float:"left"},attrs:{href:t.parentPath}},[t._v("parentPath:"+t._s(t.parentPath))])],1),t._l(t.childrenPath,(function(a,i){return e("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowNavigation,expression:"isShowNavigation"}],key:i,staticStyle:{width:"100%",height:"25px"}},[e("b-link",{staticClass:"smallFont",staticStyle:{float:"left"},attrs:{href:a}},[t._v("childrenPath:"+t._s(a))])],1)}))],2)},T=[],W=function(t){function a(){var t;return Object(o["a"])(this,a),t=Object(l["a"])(this,Object(u["a"])(a).apply(this,arguments)),t.isShowParentPath=!1,t.isShowNavigation=!1,t}return Object(h["a"])(a,t),Object(c["a"])(a,[{key:"onUrlChanged",value:function(){this.getPath()}},{key:"getPath",value:function(){var t=Object(P["a"])(regeneratorRuntime.mark((function t(){var a,e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.isShowParentPath=!1,a=this.url,t.next=4,f.a.get(a).then((function(t){e.parentPath=t.data.ParentPath,e.childrenPath=t.data.ChildrenPath}));case 4:""!=this.parentPath&&(this.isShowParentPath=!0),this.$forceUpdate();case 6:case"end":return t.stop()}}),t,this)})));function a(){return t.apply(this,arguments)}return a}()},{key:"showNavigation",value:function(){this.isShowNavigation=!this.isShowNavigation}}]),a}(p["Vue"]);Object(d["__decorate"])([Object(p["Prop"])()],W.prototype,"url",void 0),Object(d["__decorate"])([Object(p["Watch"])("url")],W.prototype,"onUrlChanged",null),W=Object(d["__decorate"])([Object(p["Component"])({components:{WidgetParams:_}})],W);var M=W,N=M,U=Object(I["a"])(N,L,T,!1,null,"13b56ba4",null),A=U.exports,R=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"container"},[e("hsc-window-style-metal",t._l(t.schemas,(function(a){return e("hsc-window",{attrs:{title:"Edit",closeButton:!1,isOpen:t.isOpen,positionHint:"5 / 5"},on:{"update:isOpen":function(a){t.isOpen=a},"update:is-open":function(a){t.isOpen=a}}},["status"==a.type?e("fieldset",{staticStyle:{padding:"20px"}},[e("div",{staticClass:"columns"},[e("div",{staticClass:"column is-2",staticStyle:{color:"#206dec","font-size":"18px","font-style":"oblique","font-weight":"900",padding:"0px"}},[t._v("To Do")]),e("i",{staticClass:"fa fa-question-circle-o",staticStyle:{"margin-top":"5px","margin-left":"3px"},attrs:{"aria-hidden":"true"}})]),e("div",{staticClass:"columns"},[t._v("Enter the Thing in the input box below,")]),e("div",{staticClass:"columns"},[t._v("\n                    then the return value will Automatic updates ,click 'POKE' to get the parameters")]),e("div",{staticClass:"columns",staticStyle:{"margin-bottom":"0px"}},[e("div",{staticClass:"field column is-7",staticStyle:{"padding-right":"0px"}},[e("div",{staticClass:"control"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.config.data.url,expression:"config.data.url"}],staticClass:"input is-info",attrs:{type:"text"},domProps:{value:t.config.data.url},on:{input:function(a){a.target.composing||t.$set(t.config.data,"url",a.target.value)}}})])]),e("div",{staticClass:"column",staticStyle:{position:"relative",right:"25px"}},[e("button",{staticClass:"button is-light ",on:{click:t.updateUI}},[t._v("OK")])]),e("div",{staticClass:"column",staticStyle:{position:"relative",right:"50px"}},[e("button",{staticClass:"button is-info",on:{click:t.pathPoke}},[t._v("POKE")])])]),e("div",{staticClass:"columns"},[e("WidgetParams",{directives:[{name:"show",rawName:"v-show",value:t.isShowParams,expression:"isShowParams"}],ref:"WidgetParams",refInFor:!0,staticClass:"column",attrs:{action:"get"},on:{updataVariables:t.viewLoad}})],1)]):t._e(),"config"==a.type?e("fieldset",{staticStyle:{padding:"20px"}},[e("div",{staticClass:"columns"},[e("div",{staticClass:"column is-2",staticStyle:{color:"#206dec","font-size":"18px","font-style":"oblique","font-weight":"900",padding:"0px"}},[t._v("Config")]),e("i",{staticClass:"fa fa-question-circle-o",staticStyle:{"margin-top":"5px","margin-left":"3px"},attrs:{"aria-hidden":"true"}})]),e("div",{staticClass:"columns"},[t._v("Enter the Thing in the input box below,")]),e("div",{staticClass:"columns"},[t._v("\n                    then the return value will Automatic updates ,click 'POKE' to get the parameters")]),e("div",{staticClass:"columns",staticStyle:{"margin-bottom":"0px"}},[e("div",{staticClass:"field column is-7",staticStyle:{"padding-right":"0px"}},[e("div",{staticClass:"control"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.config.data.get.url,expression:"config.data.get.url"}],staticClass:"input is-info",attrs:{type:"text"},domProps:{value:t.config.data.get.url},on:{input:function(a){a.target.composing||t.$set(t.config.data.get,"url",a.target.value)}}})])]),e("div",{staticClass:"column",staticStyle:{position:"relative",right:"25px"}},[e("button",{staticClass:"button is-light ",on:{click:t.updateGetUI}},[t._v("GET")])]),e("div",{staticClass:"column",staticStyle:{position:"relative",right:"50px"}},[e("button",{staticClass:"button is-info",on:{click:t.getPathPoke}},[t._v("POKE")])])]),e("div",{staticClass:"colmumns"},[e("WidgetParams",{directives:[{name:"show",rawName:"v-show",value:t.isShowGetParams,expression:"isShowGetParams"}],ref:"WidgetGetParams",refInFor:!0,staticClass:"column",staticStyle:{"padding-top":"0px","padding-bottom":"5px"},attrs:{action:"get"},on:{updataVariables:t.viewGetLoad}})],1),e("hr",{staticStyle:{size:"6px"}}),e("div",{staticClass:"columns"},[e("div",{staticClass:"column is-2",staticStyle:{color:"#206dec","font-size":"18px","font-style":"oblique","font-weight":"900",padding:"0px"}},[t._v("Set Value")]),e("i",{staticClass:"fa fa-question-circle-o",staticStyle:{"margin-top":"5px","margin-left":"3px"},attrs:{"aria-hidden":"true"}})]),e("div",{staticClass:"columns"},[t._v("Enter the Thing in the input box below,")]),e("div",{staticClass:"columns"},[t._v("\n                    click 'Set' to Set value, or click 'POKE' to get the parameters")]),e("div",{staticClass:"columns",staticStyle:{"margin-bottom":"0px"}},[e("div",{staticClass:"field column is-7",staticStyle:{"padding-right":"0px"}},[e("div",{staticClass:"control"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.config.data.set.url,expression:"config.data.set.url"}],staticClass:"input is-info",attrs:{type:"text"},domProps:{value:t.config.data.set.url},on:{input:function(a){a.target.composing||t.$set(t.config.data.set,"url",a.target.value)}}})])]),e("div",{staticClass:"column",staticStyle:{position:"relative",right:"25px"}},[e("button",{staticClass:"button is-light ",on:{click:t.updateSetUI}},[t._v("SET")])]),e("div",{staticClass:"column",staticStyle:{position:"relative",right:"50px"}},[e("button",{staticClass:"button is-info",on:{click:t.setPathPoke}},[t._v("POKE")])])]),e("div",{staticClass:"colmumns"},[e("WidgetParams",{directives:[{name:"show",rawName:"v-show",value:t.isShowSetParams,expression:"isShowSetParams"}],ref:"WidgetSetParams",refInFor:!0,staticClass:"column",attrs:{action:"set"},on:{updataVariables:t.viewSetLoad}})],1)]):t._e(),"state"==a.type?e("fieldset",{staticStyle:{padding:"20px"}},[e("div",{staticClass:"columns"},[e("div",{staticClass:"column is-2",staticStyle:{color:"#206dec","font-size":"18px","font-style":"oblique","font-weight":"900",padding:"0px"}},[t._v("State")]),e("i",{staticClass:"fa fa-question-circle-o",staticStyle:{"margin-top":"5px","margin-left":"3px"},attrs:{"aria-hidden":"true"}})]),e("div",{staticClass:"columns"},[t._v("State will shows the state of CODAC")]),e("div",{staticClass:"columns"},[t._v("\n                    the value will Automatic updates ,click 'POKE' to get the parameters")]),e("div",{staticClass:"columns",staticStyle:{"margin-bottom":"0px"}},[e("div",{staticClass:"field column is-7",staticStyle:{"padding-right":"0px"}},[e("div",{staticClass:"control"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.config.data.url,expression:"config.data.url"}],staticClass:"input is-info",attrs:{type:"text"},domProps:{value:t.config.data.url},on:{input:function(a){a.target.composing||t.$set(t.config.data,"url",a.target.value)}}})])]),e("div",{staticClass:"column",staticStyle:{position:"relative",right:"25px"}},[e("button",{staticClass:"button is-light ",on:{click:t.updateUI}},[t._v("OK")])]),e("div",{staticClass:"column",staticStyle:{position:"relative",right:"50px"}},[e("button",{staticClass:"button is-info",on:{click:t.pathPoke}},[t._v("POKE")])])]),e("div",{staticClass:"columns"},[e("WidgetParams",{directives:[{name:"show",rawName:"v-show",value:t.isShowParams,expression:"isShowParams"}],ref:"WidgetParams",refInFor:!0,staticClass:"column",attrs:{action:"get"},on:{updataVariables:t.viewLoad}})],1)]):t._e(),"method"==a.type?e("fieldset",{staticStyle:{padding:"20px"}},[e("div",{staticClass:"columns"},[e("div",{staticClass:"column is-2",staticStyle:{color:"#206dec","font-size":"18px","font-style":"oblique","font-weight":"900",padding:"0px"}},[t._v("Method")]),e("i",{staticClass:"fa fa-question-circle-o",staticStyle:{"margin-top":"5px","margin-left":"3px"},attrs:{"aria-hidden":"true"}})]),e("div",{staticClass:"columns"},[t._v("Enter the Thing in the input box below,")]),e("div",{staticClass:"columns"},[t._v("\n                    click 'OK' to invoke method from cfet，click 'POKE' to get the parameters")]),e("div",{staticClass:"columns"},[e("div",{staticClass:"field column is-7",staticStyle:{"padding-right":"0px"}},[e("div",{staticClass:"control"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.config.data.url,expression:"config.data.url"}],staticClass:"input is-info",attrs:{type:"text"},domProps:{value:t.config.data.url},on:{input:function(a){a.target.composing||t.$set(t.config.data,"url",a.target.value)}}})])]),e("div",{staticClass:"column",staticStyle:{position:"relative",right:"25px"}},[e("button",{staticClass:"button is-light ",on:{click:t.updateUI}},[t._v("OK")])]),e("div",{staticClass:"column",staticStyle:{position:"relative",right:"50px"}},[e("button",{staticClass:"button is-info",on:{click:t.pathPoke}},[t._v("POKE")])])]),e("div",{staticClass:"columns"},[e("WidgetParams",{directives:[{name:"show",rawName:"v-show",value:t.isShowParams,expression:"isShowParams"}],ref:"WidgetParams",refInFor:!0,staticClass:"column",attrs:{action:"invoke"},on:{updataVariables:t.viewinvokeLoad}})],1)]):t._e(),"thing"==a.type?e("fieldset",{staticStyle:{padding:"20px"}},[e("div",{staticClass:"columns"},[e("div",{staticClass:"column is-2",staticStyle:{color:"#206dec","font-size":"18px","font-style":"oblique","font-weight":"900",padding:"0px"}},[t._v("To Do")]),e("i",{staticClass:"fa fa-question-circle-o",staticStyle:{"margin-top":"5px","margin-left":"3px"},attrs:{"aria-hidden":"true"}})]),e("div",{staticClass:"columns"},[t._v("Enter the Thing in the input box below,")]),e("div",{staticClass:"columns"},[t._v("\n                    主要用于一个链接的跳转。")]),e("div",{staticClass:"columns",staticStyle:{"margin-bottom":"0px"}},[e("div",{staticClass:"field column is-7",staticStyle:{"padding-right":"0px"}},[e("div",{staticClass:"control"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.config.data.url,expression:"config.data.url"}],staticClass:"input is-info",attrs:{type:"text"},domProps:{value:t.config.data.url},on:{input:function(a){a.target.composing||t.$set(t.config.data,"url",a.target.value)}}})])]),e("div",{staticClass:"column",staticStyle:{position:"relative",right:"25px"}},[e("button",{staticClass:"button is-light ",on:{click:t.updateUI}},[t._v("OK")])]),e("div",{staticClass:"column",staticStyle:{position:"relative",right:"50px"}},[e("button",{staticClass:"button is-info",on:{click:t.pathPoke}},[t._v("POKE")])])]),e("div",{staticClass:"columns"},[e("WidgetParams",{directives:[{name:"show",rawName:"v-show",value:t.isShowParams,expression:"isShowParams"}],ref:"WidgetParams",refInFor:!0,staticClass:"column",attrs:{action:"get"},on:{updataVariables:t.viewLoad}})],1)]):t._e(),"slideshow"==a.type?e("fieldset",{staticStyle:{padding:"20px"}},[e("div",{staticClass:"columns"},[e("div",{staticClass:"column is-2",staticStyle:{color:"#206dec","font-size":"18px","font-style":"oblique","font-weight":"900",padding:"0px"}},[t._v("To Do")]),e("i",{staticClass:"fa fa-question-circle-o",staticStyle:{"margin-top":"5px","margin-left":"3px"},attrs:{"aria-hidden":"true"}})]),e("div",{staticClass:"columns"},[t._v("Enter the Thing in the input box below,")]),e("div",{staticClass:"columns"},[t._v("\n                    then the return value will Automatic updates ,click 'POKE' to get the parameters")]),e("div",{staticClass:"columns",staticStyle:{"margin-bottom":"0px"}},[e("div",{staticClass:"field column is-7",staticStyle:{"padding-right":"0px"}},[e("div",{staticClass:"control"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.config.data.url,expression:"config.data.url"}],staticClass:"input is-info",attrs:{type:"text"},domProps:{value:t.config.data.url},on:{input:function(a){a.target.composing||t.$set(t.config.data,"url",a.target.value)}}})])]),e("div",{staticClass:"column",staticStyle:{position:"relative",right:"25px"}},[e("button",{staticClass:"button is-light ",on:{click:t.updateUI}},[t._v("OK")])]),e("div",{staticClass:"column",staticStyle:{position:"relative",right:"50px"}},[e("button",{staticClass:"button is-info",on:{click:t.pathPoke}},[t._v("POKE")])])]),e("div",{staticClass:"columns"},[e("WidgetParams",{directives:[{name:"show",rawName:"v-show",value:t.isShowParams,expression:"isShowParams"}],ref:"WidgetParams",refInFor:!0,attrs:{action:"get"},on:{updataVariables:t.viewLoad}})],1)]):t._e(),"cardreader"==a.type?e("fieldset",{staticStyle:{padding:"20px"}},[e("div",{staticClass:"columns"},[e("div",{staticClass:"column is-2",staticStyle:{color:"#206dec","font-size":"18px","font-style":"oblique","font-weight":"900",padding:"0px"}},[t._v("To Do")]),e("i",{staticClass:"fa fa-question-circle-o",staticStyle:{"margin-top":"5px","margin-left":"3px"},attrs:{"aria-hidden":"true"}})]),e("div",{staticClass:"columns"},[t._v("Enter the card in the input box below,")]),e("div",{staticClass:"columns"},[t._v("\n                    then the return value will Automatic updates ,click 'POKE' to get the parameters")]),e("div",{staticClass:"columns",staticStyle:{"margin-bottom":"0px"}},[e("div",{staticClass:"field column is-7",staticStyle:{"padding-right":"0px"}},[e("div",{staticClass:"control"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.config.data.url,expression:"config.data.url"}],staticClass:"input is-info",attrs:{type:"text"},domProps:{value:t.config.data.url},on:{input:function(a){a.target.composing||t.$set(t.config.data,"url",a.target.value)}}})])]),e("div",{staticClass:"column",staticStyle:{position:"relative",right:"25px"}},[e("button",{staticClass:"button is-light ",on:{click:t.updateUI}},[t._v("OK")])]),e("div",{staticClass:"column",staticStyle:{position:"relative",right:"50px"}},[e("button",{staticClass:"button is-info",on:{click:t.pathPoke}},[t._v("POKE")])])]),e("div",{staticClass:"columns"},[e("WidgetParams",{directives:[{name:"show",rawName:"v-show",value:t.isShowParams,expression:"isShowParams"}],ref:"WidgetParams",refInFor:!0,attrs:{action:"get"},on:{updataVariables:t.viewLoad}})],1)]):t._e(),"varbroadcast"==a.type?e("fieldset",{staticStyle:{padding:"20px"}},[e("div",{staticClass:"columns"},[e("div",{staticClass:"column is-2",staticStyle:{color:"#206dec","font-size":"18px","font-style":"oblique","font-weight":"900",padding:"0px"}},[t._v("To Do")]),e("i",{staticClass:"fa fa-question-circle-o",staticStyle:{"margin-top":"5px","margin-left":"3px"},attrs:{"aria-hidden":"true"}})]),e("div",{staticClass:"columns"},[t._v("You can broadcast params value to all the Widget")]),e("div",{staticClass:"columns",staticStyle:{"margin-bottom":"0px"}},[e("div",{staticClass:"field column is-7",staticStyle:{"padding-right":"0px"}},[e("div",{staticClass:"control"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.config.data.url,expression:"config.data.url"}],staticClass:"input is-info",attrs:{type:"text"},domProps:{value:t.config.data.url},on:{input:function(a){a.target.composing||t.$set(t.config.data,"url",a.target.value)}}})])]),e("div",{staticClass:"column",staticStyle:{position:"relative",right:"25px"}},[e("button",{staticClass:"button is-light ",on:{click:t.updateUI}},[t._v("OK")])])]),e("div",{staticClass:"columns"},[e("WidgetParams",{directives:[{name:"show",rawName:"v-show",value:t.isShowParams,expression:"isShowParams"}],ref:"WidgetParams",refInFor:!0,attrs:{action:"broadcast"},on:{updataVariables:t.viewLoad}})],1)]):t._e(),e("fieldset",[e("hr"),e("div",{staticClass:"columns",staticStyle:{"margin-top":"5px","margin-bottom":"5px","margin-right":"20px"}},[e("button",{staticClass:"button column is-offset-9 is-3",staticStyle:{"background-color":"#8fb9f7","padding-top":"6px"}},[e("i",{staticClass:"fa fa-flag",staticStyle:{"margin-right":"4px"},attrs:{"aria-hidden":"true"}}),t._v("Navigation")])])])])})),1)],1)},F=[],G=function(t){function a(){var t;return Object(o["a"])(this,a),t=Object(l["a"])(this,Object(u["a"])(a).apply(this,arguments)),t.isOpen=!0,t.config={WidgetComponentName:"Status",data:{url:"",get:{url:"",userInputData:""},set:{url:"",userInputData:""},displayname:"",userInputData:""}},t.isShowPath=!1,t.isShowParams=!1,t.pathProcessor=new V,t.isShowGet=!0,t.isShowGetPath=!1,t.isShowSetPath=!1,t.isShowGetParams=!1,t.isShowSetParams=!1,t}return Object(h["a"])(a,t),Object(c["a"])(a,[{key:"mounted",value:function(){}},{key:"destroyed",value:function(){clearInterval(this.timer)}},{key:"updateUI",value:function(){this.isShowPath=!1,this.isShowParams=!0;var t=this.config.data.url;this.timer=setInterval(this.$parent.$root.$children[0].$refs[this.schemas[0].index][0].updateUI(this.isShowPath,this.isShowParams,this.config.data.url),3e4),this.$parent.$root.$children[0].$refs[this.schemas[0].index][0].updateUI(this.isShowPath,this.isShowParams,this.config.data.url),this.$refs.WidgetParams[0].showGet(this.isShowGet),this.$refs.WidgetParams[0].setVariableList(this.pathProcessor.extractVarFromPath(t))}},{key:"pathPoke",value:function(){var t=this,a=this.config.data.url;f.a.get(a,{headers:{Pragma:"no-cache","Cache-Control":"no-cache"}}).then((function(a){t.$parent.$root.$children[0].$refs[t.schemas[0].index][0].samplePoke(a.data),t.$refs.WidgetParams[0].setVariableList(t.pathProcessor.extractVarFromPath(t.config.data.url))}))}},{key:"viewLoad",value:function(){var t=Object(P["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:a={action:"get",variables:this.$refs.WidgetParams[0].getVariableValues(),target:["self"]},this.$parent.$root.$children[0].$refs[this.schemas[0].index][0].viewLoad(a);case 2:case"end":return t.stop()}}),t,this)})));function a(){return t.apply(this,arguments)}return a}()},{key:"viewinvokeLoad",value:function(){var t=Object(P["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:console.log("called when widgetParams action clicked"),a={action:"invoke",variables:this.$refs.WidgetParams[0].getVariableValues(),target:["self"]},this.$parent.$root.$children[0].$refs[this.schemas[0].index][0].viewLoad(a);case 3:case"end":return t.stop()}}),t,this)})));function a(){return t.apply(this,arguments)}return a}()},{key:"viewGetLoad",value:function(){var t=Object(P["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:console.log("innnnn"),a={action:"get",variables:this.$refs.WidgetGetParams[0].getVariableValues(),target:["self"]},this.$parent.$root.$children[0].$refs[this.schemas[0].index][0].viewGetLoad(a);case 3:case"end":return t.stop()}}),t,this)})));function a(){return t.apply(this,arguments)}return a}()},{key:"viewSetLoad",value:function(){var t=Object(P["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:a={action:"set",variables:this.$refs.WidgetSetParams[0].getVariableValues(),target:["self"]},this.$parent.$root.$children[0].$refs[this.schemas[0].index][0].viewSetLoad(a);case 2:case"end":return t.stop()}}),t,this)})));function a(){return t.apply(this,arguments)}return a}()},{key:"updateGetUI",value:function(){this.isShowGetParams=!0,this.isShowGetPath=!1;var t=this.config.data.get.url;this.$parent.$root.$children[0].$refs[this.schemas[0].index][0].updateGetUI(this.isShowGetPath,this.isShowGetParams,this.config.data.get.url),console.log(this.isShowGet),this.$refs.WidgetGetParams[0].showGet(this.isShowGet),this.$refs.WidgetGetParams[0].setVariableList(this.pathProcessor.extractVarFromPath(t))}},{key:"getPathPoke",value:function(){var t=this,a=this.config.data.get.url;f.a.get(a).then((function(a){t.$parent.$root.$children[0].$refs[t.schemas[0].index][0].isGetPoke=!0,t.$parent.$root.$children[0].$refs[t.schemas[0].index][0].samplePoke(a.data),t.$refs.WidgetGetParams[0].setVariableList(t.pathProcessor.extractVarFromPath(t.config.data.get.url))}))}},{key:"updateSetUI",value:function(){this.isShowSetParams=!0,this.isShowSetPath=!1;var t=this.config.data.set.url;this.$parent.$root.$children[0].$refs[this.schemas[0].index][0].updateSetUI(this.isShowSetPath,this.isShowSetParams,this.config.data.set.url),this.$refs.WidgetSetParams[0].showGet(this.isShowGet),this.$refs.WidgetSetParams[0].setVariableList(this.pathProcessor.extractVarFromPath(t))}},{key:"setPathPoke",value:function(){var t=this,a=this.config.data.set.url;f.a.get(a).then((function(a){t.$parent.$root.$children[0].$refs[t.schemas[0].index][0].isSetPoke=!0,t.$parent.$root.$children[0].$refs[t.schemas[0].index][0].samplePoke(a.data),t.$refs.WidgetSetParams[0].setVariableList(t.pathProcessor.extractVarFromPath(t.config.data.set.url))}))}},{key:"onschemasChanged",value:function(t,a){console.log("qskjhskdjshkdjbsmb"),console.log(t),this.schemas=t}}]),a}(p["Vue"]);Object(d["__decorate"])([Object(p["Prop"])()],G.prototype,"schemas",void 0),Object(d["__decorate"])([Object(p["Watch"])("schemas",{immediate:!0,deep:!0})],G.prototype,"onschemasChanged",null),G=Object(d["__decorate"])([Object(S["b"])({components:{WidgetParams:_}})],G);var B=G,z=B,J=Object(I["a"])(z,R,F,!1,null,"2c803f89",null),q=J.exports,H=e("99af"),K=function(t){function a(){var t;return Object(o["a"])(this,a),t=Object(l["a"])(this,Object(u["a"])(a).apply(this,arguments)),t.widgetList=[],t.pathProcessor=new V,t.strMapObjChange=new $["a"],t.WidgetComponentName="Status",t.StatusValue="undefined",t.pathId="",t.userInputData=new Map,t.pathwithVar="",t.isShowPath=!1,t.isShowParams=!1,t.EditPathPoke="",t.activeColor="",t.value=0,t.tempValue=0,t.gaugeTicks=[0,.2,.4,.75,1],t.gaugeColor=["red","yellow","green"],t.config={WidgetComponentName:"Status",data:{url:"",displayname:"",userInputData:""}},t.EditData={edit:{type:"status",parseUrl:"",url:t.config.data.url,index:t.refIndex,isShowStateVlaue:!1},props:{fontSize:22,title:"",titleSize:"",unit:"",StateIndicatorFile:{hh:80,h:75,l:40,ll:20,max:100,min:0}},params:{PokedPath:t.EditPathPoke,action:"get",Args:{},tempUserInputData:{},shouldUpdate:!1,userInputData:t.userInputData}},t}return Object(h["a"])(a,t),Object(c["a"])(a,[{key:"created",value:function(){this.config.data.userInputData=this.strMapObjChange.strMapToObj(this.userInputData)}},{key:"mounted",value:function(){this.timer=setInterval(this.refresh,4e3);var t=document.getElementsByClassName("container"),a=this,e=t[this.index];e.oncontextmenu=function(t){t.preventDefault();var i=document.querySelector(".menu");i&&i.remove(),i=document.createElement("div"),i.classList.add("menu");var s=document.createElement("BUTTON");s.innerHTML="del",s.onclick=a.del,i.appendChild(s);var n=document.createElement("BUTTON");n.innerHTML="edit",n.onclick=a.openWindows,i.appendChild(n),e.appendChild(i),i.style.left=t.offsetX+"px",i.style.top=t.offsetY+"px",i.style.position="absolute"},e.onclick=function(t){var a=document.querySelector(".menu");a&&!a.contains(t.target)&&a.remove()},console.log(this.$refs),this.gauge=new H["Gauge"](this.$refs.gauge,{percent:0,range:{ticks:[0,.2,.4,.75,.8,1],color:["red","yellow","green","yellow","red"]},statistic:{content:{formatter:function(t){t.percent;return""}}}}),this.gauge.render()}},{key:"destroyed",value:function(){clearInterval(this.timer)}},{key:"del",value:function(){this.$emit("del",this.index)}},{key:"ParsingStateNum",value:function(){var t=parseFloat(this.StatusValue);this.value=parseFloat((t-this.EditData.props.StateIndicatorFile.min)/(this.EditData.props.StateIndicatorFile.max-this.EditData.props.StateIndicatorFile.min)),this.gaugeTicks[0]=0,this.gaugeTicks[1]=parseFloat((this.EditData.props.StateIndicatorFile.ll-this.EditData.props.StateIndicatorFile.min)/(this.EditData.props.StateIndicatorFile.max-this.EditData.props.StateIndicatorFile.min)),this.gaugeTicks[2]=parseFloat((this.EditData.props.StateIndicatorFile.l-this.EditData.props.StateIndicatorFile.min)/(this.EditData.props.StateIndicatorFile.max-this.EditData.props.StateIndicatorFile.min)),this.gaugeTicks[3]=parseFloat((this.EditData.props.StateIndicatorFile.h-this.EditData.props.StateIndicatorFile.min)/(this.EditData.props.StateIndicatorFile.max-this.EditData.props.StateIndicatorFile.min)),this.gaugeTicks[4]=parseFloat((this.EditData.props.StateIndicatorFile.hh-this.EditData.props.StateIndicatorFile.min)/(this.EditData.props.StateIndicatorFile.max-this.EditData.props.StateIndicatorFile.min)),this.gaugeTicks[5]=1,this.gauge.options.percent=this.value,this.gauge.options.range={ticks:this.gaugeTicks,color:["red","yellow","green","yellow","red"]},this.gauge.render(),this.StatusValue>=parseFloat(this.EditData.props.StateIndicatorFile.hh)?this.activeColor="red":this.StatusValue>=parseFloat(this.EditData.props.StateIndicatorFile.h)&&this.StatusValue<parseFloat(this.EditData.props.StateIndicatorFile.hh)?this.activeColor="yellow":this.StatusValue>=parseFloat(this.EditData.props.StateIndicatorFile.l)&&this.StatusValue<parseFloat(this.EditData.props.StateIndicatorFile.h)?this.activeColor="green":this.StatusValue>=parseFloat(this.EditData.props.StateIndicatorFile.ll)&&this.StatusValue<parseFloat(this.EditData.props.StateIndicatorFile.l)?this.activeColor="yellow":this.StatusValue<=parseFloat(this.EditData.props.StateIndicatorFile.ll)?this.activeColor="red":this.activeColor="black"}},{key:"openWindows",value:function(){var t=window.location.origin,a=JSON.stringify(this.EditData),e=encodeURIComponent(a),i=t+"/WindowsAppIndex.html/?";window.open(i+e,"WidgetWindow","height=400, width=800, top=200, left=400, toolbar=no")}},{key:"updateUI",value:function(){this.isShowPath=!1,this.EditData.params.PokedPath=this.config.data.url,this.EditData.edit.url=this.config.data.url,this.openWindows()}},{key:"getConfig",value:function(){return[this.config,this.EditData]}},{key:"setConfig",value:function(t,a){this.config=t[0],this.EditData=t[1],-1!=this.EditData.edit.url.search("startpath")&&this.replaceStartPath(a),-1!=this.EditData.edit.parseUrl.search("startpath")&&this.replaceStartPath(a);var e=this.EditData.params.tempUserInputData;e=JSON.parse(JSON.stringify(e)),e=this.strMapObjChange.objToStrMap(e);var i={action:this.EditData.params.action,variables:e,target:["self"]};this.EditData.params.Args=i,this.viewLoad(i)}},{key:"pathPoke",value:function(){var t=this;this.config.data.url=this.EditData.edit.url,this.EditPathPoke=this.EditData.edit.url;var a=this.EditData.edit.url;window.$axios.get(a).then((function(a){t.samplePoke(a.data),t.updateUI()})).catch((function(a){t.EditData.params.PokedPath=t.config.data.url,t.openWindows()}))}},{key:"samplePoke",value:function(t){var a,e=t.CFET2CORE_SAMPLE_PATH;a=e;var i,s=0,n=t.Actions.get.Parameters;n=JSON.parse(JSON.stringify(n)),n=this.strMapObjChange.objToStrMap(n),i=n,i.forEach((function(t,e){s++,1==s&&(a+="?"),a=a+e+"=$"+e+"$&"})),0!=s&&(a=a.substring(0,a.length-1)),this.config.data.url=a}},{key:"parentUpdate",value:function(t){var a=this;this.userInputData=this.strMapObjChange.strMapToObj(this.EditData.params.userInputData);var e=this.userInputData;e=this.strMapObjChange.objToStrMap(e),this.userInputData=e,console.log(this.userInputData),this.userInputData.forEach((function(e,i){t.variables.forEach((function(e,s){i==s&&a.userInputData.get(i)!=t.variables.get(s)&&(a.userInputData.set(i,t.variables.get(s)),console.log(a.userInputData),a.EditData.params.shouldUpdate=!0,a.EditData.params.Args.variables=a.userInputData,a.pathwithVar=a.pathProcessor.FillPathWithVar(a.userInputData,a.config.data.url),a.getData(a.pathwithVar))}))})),this.EditData.params.userInputData=this.strMapObjChange.strMapToObj(this.userInputData)}},{key:"refresh",value:function(){var t=Object(P["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getData(this.pathwithVar);case 2:"number"==typeof this.StatusValue&&this.StatusValue!=this.tempValue&&(this.viewLoad(this.EditData.params.Args),this.tempValue=this.StatusValue);case 3:case"end":return t.stop()}}),t,this)})));function a(){return t.apply(this,arguments)}return a}()},{key:"replaceStartPath",value:function(t){this.config.data.url=this.config.data.url.replace("$startpath$",t),this.EditData.edit.url=this.EditData.edit.url.replace("$startpath$",t),this.EditData.edit.parseUrl=this.EditData.edit.parseUrl.replace("$startpath$",t)}},{key:"getData",value:function(){var t=Object(P["a"])(regeneratorRuntime.mark((function t(a){var e,i=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=a,t.next=3,window.$axios.get(e).then((function(t){i.StatusValue=t.data.CFET2CORE_SAMPLE_VAL,void 0!=i.StatusValue&&"number"==typeof i.StatusValue||(i.StatusValue="undefined")}));case 3:case"end":return t.stop()}}),t)})));function a(a){return t.apply(this,arguments)}return a}()},{key:"viewLoad",value:function(){var t=Object(P["a"])(regeneratorRuntime.mark((function t(a){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.userInputData=a.variables,""==this.EditData.edit.url?this.config.data.url=this.EditData.edit.parseUrl:this.config.data.url=this.EditData.edit.url,this.pathwithVar=this.pathProcessor.FillPathWithVar(this.userInputData,this.config.data.url),t.next=5,this.getData(this.pathwithVar);case 5:this.ParsingStateNum(),"number"==typeof this.StatusValue&&this.ParsingStateNum();case 7:case"end":return t.stop()}}),t,this)})));function a(a){return t.apply(this,arguments)}return a}()}]),a}(C);Object(d["__decorate"])([Object(p["Prop"])()],K.prototype,"index",void 0),Object(d["__decorate"])([Object(p["Prop"])()],K.prototype,"refIndex",void 0),Object(d["__decorate"])([Object(p["Prop"])()],K.prototype,"widgetList",void 0),K=Object(d["__decorate"])([Object(S["b"])({components:{WidgetParams:_,Navigation:A,Windows:q}})],K);var X=K,Y=X,Q=(e("9b17"),Object(I["a"])(Y,w,y,!1,null,"1c9fc9de",null)),Z=Q.exports,tt=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"container",staticStyle:{"margin-top":"30px"},attrs:{id:"RightClick"}},[e("div",{staticClass:"columns content ",class:t.EditData.props.titleSize,staticStyle:{"margin-bottom":"0px","padding-left":"7px"}},[e("div",{staticClass:"column content-table-cell-heading-color is-narrow",staticStyle:{margin:"0px",padding:"0px"}},[e("h3",[t._v(t._s(t.EditData.props.title))])])]),e("div",{staticClass:"columns",staticStyle:{display:"flex","justify-content":"center","align-items":"center"}},[e("div",{staticClass:"column is-four-sixths is-offset-one-sixth",staticStyle:{overflow:"auto"}},[e("div",{staticStyle:{border:"solid 1px"},style:{color:t.activeColor,fontSize:t.EditData.props.fontSize+"px"}},[t._v(t._s(t.StatusValue))])]),t.EditData.edit.isShowStateVlaue?e("div",{staticStyle:{"margin-left":"5px"},style:{color:t.activeColor,fontSize:t.EditData.props.fontSize+"px"}},[t._v(t._s(t.EditData.props.unit))]):t._e(),e("WidgetParams",{directives:[{name:"show",rawName:"v-show",value:t.isShowParams,expression:"isShowParams"}],ref:"WidgetParams",staticClass:"column",attrs:{action:"get"},on:{updataVariables:t.viewLoad}})],1)])},at=[],et=function(t){function a(){var t;return Object(o["a"])(this,a),t=Object(l["a"])(this,Object(u["a"])(a).apply(this,arguments)),t.widgetList=[],t.pathProcessor=new V,t.strMapObjChange=new $["a"],t.WidgetComponentName="LabelStatus",t.StatusValue="undefined",t.pathId="",t.userInputData=new Map,t.pathwithVar="",t.isShowPath=!1,t.isShowParams=!1,t.EditPathPoke="",t.activeColor="",t.value=0,t.message="{'SourcesAndTypes':[{'PerformanceLevel':0,'Source':'.*','EventType':'Changed'}],'action':0}",t.config={WidgetComponentName:"LabelStatus",data:{url:"",displayname:"",userInputData:""}},t.EditData={edit:{type:"LabelStatus",parseUrl:"",url:t.config.data.url,index:t.refIndex,isShowStateVlaue:!1},props:{fontSize:22,title:"",titleSize:"",unit:""},params:{PokedPath:t.EditPathPoke,action:"get",Args:{},tempUserInputData:{},shouldUpdate:!1,userInputData:t.userInputData}},t}return Object(h["a"])(a,t),Object(c["a"])(a,[{key:"created",value:function(){this.config.data.userInputData=this.strMapObjChange.strMapToObj(this.userInputData)}},{key:"mounted",value:function(){this.timer=setInterval(this.refresh,4e3);var t=document.getElementsByClassName("container"),a=this,e=t[this.index];e.oncontextmenu=function(t){t.preventDefault();var i=document.querySelector(".menu");i&&i.remove(),i=document.createElement("div"),i.classList.add("menu");var s=document.createElement("BUTTON");s.innerHTML="del",s.onclick=a.del,i.appendChild(s);var n=document.createElement("BUTTON");n.innerHTML="edit",n.onclick=a.openWindows,i.appendChild(n),e.appendChild(i),i.style.left=t.offsetX+"px",i.style.top=t.offsetY+"px",i.style.position="absolute"},e.onclick=function(t){var a=document.querySelector(".menu");a&&!a.contains(t.target)&&a.remove()}}},{key:"destroyed",value:function(){clearInterval(this.timer)}},{key:"del",value:function(){this.$emit("del",this.index)}},{key:"ParsingStateNum",value:function(){}},{key:"openWindows",value:function(){var t=window.location.origin,a=JSON.stringify(this.EditData),e=encodeURIComponent(a),i=t+"/WindowsAppIndex.html/?";window.open(i+e,"WidgetWindow","height=400, width=800, top=200, left=400, toolbar=no")}},{key:"updateUI",value:function(){this.isShowPath=!1,this.EditData.params.PokedPath=this.config.data.url,this.EditData.edit.url=this.config.data.url,this.openWindows()}},{key:"getConfig",value:function(){return[this.config,this.EditData]}},{key:"setConfig",value:function(t,a){console.log(a),this.config=t[0],this.EditData=t[1],-1!=this.EditData.edit.url.search("startpath")&&this.replaceStartPath(a),-1!=this.EditData.edit.parseUrl.search("startpath")&&this.replaceStartPath(a);var e=this.EditData.params.tempUserInputData;console.log(this.EditData.params.tempUserInputData),e=JSON.parse(JSON.stringify(e)),console.log(e),e=this.strMapObjChange.objToStrMap(e),console.log(e);var i={action:this.EditData.params.action,variables:e,target:["self"]};this.EditData.params.Args=i,this.viewLoad(i)}},{key:"pathPoke",value:function(){var t=this;console.log(this.EditData),this.config.data.url=this.EditData.edit.url,this.EditPathPoke=this.EditData.edit.url,console.log("isj"),console.log(this.EditPathPoke),console.log(this.EditData.params);var a=this.EditData.edit.url;console.log(a),window.$axios.get(a).then((function(a){console.log("in"),t.samplePoke(a.data),t.updateUI()})).catch((function(a){console.log("catch"),console.log(a),t.EditData.params.PokedPath=t.config.data.url,t.openWindows()}))}},{key:"samplePoke",value:function(t){var a,e=t.CFET2CORE_SAMPLE_PATH;a=e;var i,s=0,n=t.Actions.get.Parameters;n=JSON.parse(JSON.stringify(n)),n=this.strMapObjChange.objToStrMap(n),i=n,i.forEach((function(t,e){s++,1==s&&(a+="?"),a=a+e+"=$"+e+"$&"})),0!=s&&(a=a.substring(0,a.length-1)),this.config.data.url=a}},{key:"parentUpdate",value:function(t){var a=this;console.log(this.EditData.params.userInputData),this.userInputData=this.strMapObjChange.strMapToObj(this.EditData.params.userInputData);var e=this.userInputData;e=this.strMapObjChange.objToStrMap(e),this.userInputData=e,console.log(this.userInputData),console.log(t.variables),this.userInputData.forEach((function(e,i){t.variables.forEach((function(e,s){i==s&&a.userInputData.get(i)!=t.variables.get(s)&&(a.userInputData.set(i,t.variables.get(s)),console.log(a.userInputData),a.EditData.params.shouldUpdate=!0,a.EditData.params.Args.variables=a.userInputData,a.pathwithVar=a.pathProcessor.FillPathWithVar(a.userInputData,a.config.data.url),a.getData(a.pathwithVar))}))})),this.EditData.params.userInputData=this.strMapObjChange.strMapToObj(this.userInputData)}},{key:"refresh",value:function(){this.viewLoad(this.EditData.params.Args)}},{key:"replaceStartPath",value:function(t){console.log("repalce"+t),this.config.data.url=this.config.data.url.replace("$startpath$",t),this.EditData.edit.url=this.EditData.edit.url.replace("$startpath$",t),this.EditData.edit.parseUrl=this.EditData.edit.parseUrl.replace("$startpath$",t)}},{key:"getData",value:function(){var t=Object(P["a"])(regeneratorRuntime.mark((function t(a){var e,i=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=a,console.log(a),t.next=4,window.$axios.get(e).then((function(t){console.log(t.data),i.StatusValue=t.data.CFET2CORE_SAMPLE_VAL,void 0==i.StatusValue&&(i.StatusValue="undefined")}));case 4:case"end":return t.stop()}}),t)})));function a(a){return t.apply(this,arguments)}return a}()},{key:"viewLoad",value:function(){var t=Object(P["a"])(regeneratorRuntime.mark((function t(a){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.userInputData=a.variables,""==this.EditData.edit.url?(console.log("1"+this.EditData.edit.parseUrl),this.config.data.url=this.EditData.edit.parseUrl):this.config.data.url=this.EditData.edit.url,this.pathwithVar=this.pathProcessor.FillPathWithVar(this.userInputData,this.config.data.url),t.next=5,this.getData(this.pathwithVar);case 5:this.ParsingStateNum(),"number"==typeof this.StatusValue&&this.ParsingStateNum();case 7:case"end":return t.stop()}}),t,this)})));function a(a){return t.apply(this,arguments)}return a}()}]),a}(C);Object(d["__decorate"])([Object(p["Prop"])()],et.prototype,"index",void 0),Object(d["__decorate"])([Object(p["Prop"])()],et.prototype,"refIndex",void 0),Object(d["__decorate"])([Object(p["Prop"])()],et.prototype,"widgetList",void 0),et=Object(d["__decorate"])([Object(S["b"])({components:{WidgetParams:_,Navigation:A,Windows:q}})],et);var it=et,st=it,nt=(e("bc64"),Object(I["a"])(st,tt,at,!1,null,"ec13de94",null)),rt=nt.exports,ot=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"container",staticStyle:{"margin-top":"30px"},attrs:{id:"RightClick"}},[e("div",{staticClass:"buttons"},[e("button",{staticClass:"button has-text-info is-light is-medium is-fullwidth",staticStyle:{padding:"4px","margin-bottom":"25px"},on:{click:function(a){t.isShowParams=!t.isShowParams}}},[e("span",{staticStyle:{margin:"auto"}},[t._v("Navigation")])])]),t._l(t.EditData.edit.UserInnputUrl,(function(a){return t.isShowParams?e("div",[e("a",{attrs:{href:a.url,target:"_blank"}},[t._v(t._s(a.url))])]):t._e()})),t.isShowParams?e("div",[e("a",{attrs:{href:t.EditData.params.parentPath,target:"_blank"}},[t._v("parentPath:"+t._s(t.EditData.params.parentPath))])]):t._e(),t._l(t.EditData.params.childrenPath,(function(a,i){return t.isShowParams?e("div",{key:i},[e("a",{attrs:{href:a,target:"_blank"}},[t._v("childrenPath:"+t._s(a))])]):t._e()}))],2)},ct=[],lt=function(t){function a(){var t;return Object(o["a"])(this,a),t=Object(l["a"])(this,Object(u["a"])(a).apply(this,arguments)),t.widgetList=[],t.pathProcessor=new V,t.strMapObjChange=new $["a"],t.WidgetComponentName="Navigation",t.pathId="",t.userInputData=new Map,t.isShowParams=!1,t.config={WidgetComponentName:"Navigation",data:{url:"",displayname:"",userInputData:""}},t.EditData={edit:{UserInnputUrl:[],url:"",type:"Navigation",index:t.refIndex},props:{},params:{action:"get",Args:{},tempUserInputData:{},parentPath:"",childrenPath:[]}},t}return Object(h["a"])(a,t),Object(c["a"])(a,[{key:"created",value:function(){this.config.data.userInputData=this.strMapObjChange.strMapToObj(this.userInputData)}},{key:"mounted",value:function(){var t=document.getElementsByClassName("container"),a=this,e=t[this.index];e.oncontextmenu=function(t){t.preventDefault();var i=document.querySelector(".menu");i&&i.remove(),i=document.createElement("div"),i.classList.add("menu");var s=document.createElement("BUTTON");s.innerHTML="del",s.onclick=a.del,i.appendChild(s);var n=document.createElement("BUTTON");n.innerHTML="edit",n.onclick=a.openWindows,i.appendChild(n),e.appendChild(i),i.style.left=t.offsetX+"px",i.style.top=t.offsetY+"px",i.style.position="absolute",console.log(i.style.top),console.log(i)},e.onclick=function(t){var a=document.querySelector(".menu");a&&!a.contains(t.target)&&a.remove()}}},{key:"del",value:function(){this.$emit("del",this.index)}},{key:"openWindows",value:function(){var t=window.location.origin,a=JSON.stringify(this.EditData),e=encodeURIComponent(a),i=t+"/WindowsAppIndex.html/?";window.open(i+e,"WidgetWindow","height=400, width=800, top=200, left=400, toolbar=no")}},{key:"pathPoke",value:function(){var t=this,a=this.EditData.edit.url;f.a.get(a).then((function(a){console.log(a.data),console.log(a.data.ParentPath),t.EditData.params.parentPath=a.data.ParentPath,t.EditData.params.childrenPath=a.data.ChildrenPath}))}},{key:"updateUI",value:function(){this.openWindows()}},{key:"getConfig",value:function(){return[this.config,this.EditData]}},{key:"setConfig",value:function(t,a){console.log(t),this.config=t[0],console.log(this.config),this.EditData=t[1]}}]),a}(C);Object(d["__decorate"])([Object(p["Prop"])()],lt.prototype,"index",void 0),Object(d["__decorate"])([Object(p["Prop"])()],lt.prototype,"refIndex",void 0),Object(d["__decorate"])([Object(p["Prop"])()],lt.prototype,"widgetList",void 0),lt=Object(d["__decorate"])([Object(S["b"])({components:{}})],lt);var ut=lt,ht=ut,dt=(e("5671"),Object(I["a"])(ht,ot,ct,!1,null,"15d59b45",null)),pt=dt.exports,gt=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"container",staticStyle:{"margin-top":"30px"},attrs:{id:"RightClick"}},[e("div",{staticClass:"waveView"},[e("showViewInfo",{ref:"showViewInfo",attrs:{pathId:t.pathId},on:{showPathIdConfig:t.showPathIdConfig}}),e("div",{ref:"wave"}),e("setBasicParams",{ref:"setBasicParams",attrs:{wave:t.wave,refIndex:t.refIndex,setConfig:t.config},on:{getPathId:t.getPathId,updateConfig:t.updateConfig,pathPoke:t.pathPoke,pathPokeTime:t.pathPokeTime}})],1)])},ft=[],mt=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("button",{staticClass:"button is-primary",on:{click:function(a){return t.synchronizeRange(1)}}},[t._v("SynchronizeX")]),e("button",{staticClass:"button is-warning",on:{click:function(a){return t.synchronizeRange(2)}}},[t._v("SynchronizeY")]),e("button",{staticClass:"button is-link",on:{click:function(a){return t.synchronizeRange(3)}}},[t._v("SynchronizeXY")]),e("br"),e("WidgetParams",{directives:[{name:"show",rawName:"v-show",value:t.isShowLoad,expression:"isShowLoad"}],ref:"WidgetParams",attrs:{action:"get"},on:{updataVariables:t.viewLoad}})],1)},vt=[],bt=e("030a"),wt=e.n(bt),yt=e("911a"),Pt=e.n(yt),St=function(t){function a(){var t;return Object(o["a"])(this,a),t=Object(l["a"])(this,Object(u["a"])(a).apply(this,arguments)),t.pathProcessor=new V,t.isShowLoad=!1,t.isShowCog=!1,t.userInputData=new Map,t.tempUserInputData=new Map,t.strMapObjChange=new $["a"],t.EditPathPoke="",t.EditTimePathPoke="",t.config={WidgetComponentName:"WaveView",data:{url:{path:"",timePath:""},userInputData:"",position:{x1:"",x2:"",y1:"",y2:""}}},t.EditData={edit:{type:"WavaView",parseUrl:"",path:t.config.data.url.path,timePath:t.config.data.url.timePath,index:t.refIndex,isShowStateVlaue:!1},props:{},params:{PokedPath:t.EditPathPoke,PokedTimePath:t.EditTimePathPoke,action:"get",Args:{},tempUserInputData:{},shouldUpdate:!1,userInputData:t.userInputData}},t.tempUrl="",t.temp={},t.ExpectedDotNum=1e3,t.ExpansionMultiple=1,t.GetAllDot=!1,t}return Object(h["a"])(a,t),Object(c["a"])(a,[{key:"created",value:function(){this.config.data.userInputData=this.userInputData,this.getConfig=this.config}},{key:"refresh",value:function(){this.viewLoad(Args)}},{key:"openWindows",value:function(){var t=window.location.origin,a=JSON.stringify(this.EditData),e=encodeURIComponent(a),i=t+"/WindowsAppIndex.html/?";window.open(i+e,"WidgetWindow","height=400, width=800, top=200, left=400, toolbar=no")}},{key:"getVariableValues",value:function(){return this.$refs.WidgetParams.getVariableValues()}},{key:"setVariableInput",value:function(t){this.$refs.WidgetParams.setVariableInput(t)}},{key:"pathPoke",value:function(){this.EditPathPoke=this.EditData.edit.path,this.EditTimePathPoke=this.EditData.edit.timePath,this.config.data.url.path=this.EditData.edit.path,this.config.data.url.timePath=this.EditData.edit.timePath,this.updateConfig(),this.$emit("pathPoke")}},{key:"pathPokeTime",value:function(){this.EditPathPoke=this.EditData.edit.path,this.EditTimePathPoke=this.EditData.edit.timePath,this.config.data.url.path=this.EditData.edit.path,this.config.data.url.timePath=this.EditData.edit.timePath,this.updateConfig(),this.$emit("pathPokeTime")}},{key:"setConfig",value:function(t){this.$refs.WidgetParams.setVariableList(this.pathProcessor.extractVarFromPath(t.data.url.path)),this.$refs.WidgetParams.setVariableInput(t.data.userInputData),this.config=t,this.refresh()}},{key:"updateUserInputData",value:function(){this.config.data.userInputData=this.strMapObjChange.strMapToObj(this.$refs.WidgetParams.getVariableValues()),this.updateConfig()}},{key:"updateConfig",value:function(){this.getConfig=this.config,this.$emit("updateConfig",this.getConfig)}},{key:"getSampleParams",value:function(t){this.config.data.url.path=t,this.EditData.params.PokedPath=this.config.data.url.path,this.EditData.params.PokedTimePath=this.config.data.url.timePath,this.EditData.edit.path=this.config.data.url.path,this.EditData.edit.timePath=this.config.data.url.timePath,this.openWindows()}},{key:"getPathIdParams",value:function(){this.tempUrl!=this.config.data.url.path&&(this.config.data.userInputData.clear(),this.tempUrl=this.config.data.url.path),this.updateConfig()}},{key:"sampleLoad",value:function(t){var a=this.wave,e=[{x:this.temp.dataTimeAxis,y:t}];this.createChannelChart(a,e)}},{key:"synchronizeRange",value:function(t){var a=this.wave,e=a.layout.xaxis.range,i=a.layout.yaxis.range;1==t?Pt.a.publish("SynchronizeX",{xrange:e,yrange:i}):2==t?Pt.a.publish("SynchronizeY",{xrange:e,yrange:i}):3==t&&Pt.a.publish("SynchronizeXY",{xrange:e,yrange:i})}},{key:"findNearest",value:function(t,a,e,i){var s=(a+e)/2;if(s=Number(s.toFixed(0))-1,a>=e)return a;var n=t[s],r=t[s-1<a?a:s-1],o=t[s+1>e?e:s+1],c=Math.abs(i-n),l=Math.abs(i-r),u=Math.abs(i-o);if(c<l&&c<u)return s;var h=this.findNearest(t,a,s-1,i),d=this.findNearest(t,s+1,e,i);return Math.abs(i-t[h])<Math.abs(i-t[d])?h:d}},{key:"viewLoad",value:function(){var t=Object(P["a"])(regeneratorRuntime.mark((function t(a){var e,i,s,n,r,o,c,l,u,h,d,p,g,f,m,v,b,w,y,P,S=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.getConfig.data.position.x1="",this.getConfig.data.position.x2="",this.getConfig.data.position.y1="",this.getConfig.data.position.y2="",this.config.data.userInputData=a.variables,this.tempUserInputData=this.config.data.userInputData,console.log("viewLoad"),e=this.ExpectedDotNum,i=this.ExpansionMultiple,s=this.tempUserInputData.get("startTime"),n=this.tempUserInputData.get("endTime"),r=n-s,o=this.tempUserInputData,o.set("startTime","0"),o.set("endTime","0"),o.set("count","2"),c=this.pathProcessor.FillPathWithVar(o,this.config.data.url.timePath),console.log(c),t.next=20,this.getDataTimeAxis(c);case 20:return this.xmin=this.temp.dataTimeAxis[0],this.xmax=this.temp.dataTimeAxis[1],console.log("边界"),console.log(this.xmin),console.log(this.xmax),0==s&&0==n?(s=this.xmin,n=this.xmax,l=this.xmin,u=this.xmax,h=e):(l=Number(s)-i*r>=this.xmin?Number(s)-i*r:this.xmin,u=Number(n)+i*r<=this.xmax?Number(n)+i*r:this.xmax,h=Math.floor((Number(u)-Number(l))/(Number(n)-Number(s))*e)+1),d=this.tempUserInputData,d.set("startTime",l),d.set("endTime",u),d.set("count",h),p=this.pathProcessor.FillPathWithVar(d,this.config.data.url.path),console.log(p),t.next=34,this.getData(p);case 34:if(null!=this.temp.data){t.next=39;break}return d.set("count","0"),p=this.pathProcessor.FillPathWithVar(d,this.config.data.url.path),t.next=39,this.getData(p);case 39:return c=this.pathProcessor.FillPathWithVar(d,this.config.data.url.timePath),console.log(p),console.log(c),t.next=44,this.getDataTimeAxis(c);case 44:g=p.indexOf("/"),f=p.indexOf("/",g+1),m=p.indexOf("/",f+1),v=p.indexOf("/",m+1),this.pathId=p.slice(m+1,v),b=p.slice(0,p.indexOf("/",2)),w=this.pathId,y={thingPath:b,path:w},this.$emit("getPathId",y),this.myPlot=this.wave,this.data_initial=[{x:this.temp.dataTimeAxis,y:this.temp.data}],console.log("data_initial:"),console.log(this.data_initial),P={xaxis:{range:[s,n]},yaxis:{range:[this.config.data.position.y1,this.config.data.position.y2]},hovermode:"closest",clickmode:"event",autosize:!0},console.log(P),this.createChannelChart(this.myPlot,this.data_initial,P),this.updateConfig(),Pt.a.subscribe("PlotlyClick",(function(t,a){console.log("subscribe"),console.log(a);var e=S.findNearest(S.data_initial[0].x,0,S.data_initial[0].x.length-1,a.x);console.log(e),console.log(S.data_initial[0].x[e]);var i="x = "+S.data_initial[0].x[e]+"y = "+S.data_initial[0].y[e],s={text:i,x:S.data_initial[0].x[e],y:S.data_initial[0].y[e]};S.annotations=[],S.annotations.push(s);var n={annotations:S.annotations};wt.a.relayout(S.myPlot,n)})),Pt.a.subscribe("SynchronizeXY",(function(t,a){console.log("subscribe"),console.log(a);var e={xaxis:{range:a.xrange},yaxis:{range:a.yrange}};wt.a.relayout(S.myPlot,e)})),Pt.a.subscribe("SynchronizeX",(function(t,a){console.log("subscribe"),console.log(a);var e={xaxis:{range:a.xrange}};wt.a.relayout(S.myPlot,e)})),Pt.a.subscribe("SynchronizeY",(function(t,a){console.log("subscribe"),console.log(a);var e={yaxis:{range:a.yrange}};wt.a.relayout(S.myPlot,e)})),this.myPlot.on("plotly_click",(function(t){console.log(t.points[0].xaxis.range),console.log(t.points[0].yaxis.range),console.log(t);for(var a=0;a<t.points.length;a++){var e="x = "+t.points[a].x+"y = "+t.points[a].y.toPrecision(4),i={text:e,x:t.points[a].x,y:parseFloat(t.points[a].y.toPrecision(4))},s=[];s.push(i),wt.a.relayout(S.myPlot,{annotations:s}),Pt.a.publish("PlotlyClick",{x:t.points[a].x,y:t.points[a].y.toPrecision(4)})}})),this.zoom();case 67:case"end":return t.stop()}}),t,this)})));function a(a){return t.apply(this,arguments)}return a}()},{key:"zoom",value:function(){var t=this;console.log("c");this.createChannelChart;var a=this.addAnnotations,e=(this.getData,this.getDataTimeAxis,this.getConfig),i=this.updateConfig;this.pathProcessor,this.temp.dataTimeAxis[this.nowDotNum-1],this.temp.dataTimeAxis[0],this.temp.data[this.nowDotNum-1],this.temp.data[0],this.temp;this.myPlot.on("plotly_relayout",(function(a){var s,n,r,o=t.temp.dataTimeAxis[t.nowDotNum-1],c=t.temp.dataTimeAxis[0],l=t.temp.data[t.nowDotNum-1],u=t.temp.data[0],h=o-c,d=(t.temp,t.config,t.tempUserInputData,t.ExpansionMultiple),p=t.ExpectedDotNum;if(console.log("d"),console.log(a),!a["xaxis.autorange"]&&(a["xaxis.range[0]"]||a["xaxis"])){var g,f;a["xaxis"]?(console.log("x"),g=a["xaxis"]["range"][0],f=a["xaxis"]["range"][1],a["yaxis"]&&(console.log("y"),u=a["yaxis"]["range"][0],l=a["yaxis"]["range"][1])):a["xaxis.range[0]"]&&(g=a["xaxis.range[0]"],f=a["xaxis.range[1]"],u=a["yaxis.range[0]"],l=a["yaxis.range[1]"]),console.log(g),console.log(f),console.log(o),console.log(c);var m=f-g;if(g<c||f>o||m/h*t.nowDotNum<p&&0==t.GetAllDot){t.GetAllDot=!1,s=Number(g)-d*m>=t.xmin?Number(g)-d*m:t.xmin,n=Number(f)+d*m<=t.xmax?Number(f)+d*m:t.xmax,console.log(s),console.log(n),console.log(t.nowDotNum),console.log(m/h*t.nowDotNum),console.log("重加载"),console.log(s<c),console.log(n>o),console.log(n),console.log(o),console.log(m/h*t.nowDotNum<p),o=n,c=s,h=o-c,r=Math.floor((Number(n)-Number(s))/(Number(f)-Number(g))*p)+1;var v=t.tempUserInputData;v.set("startTime",s),v.set("endTime",n),v.set("count",r);var b=t.wave,w=b.layout.yaxis.range;if(console.log(w),a["yaxis"]||a["yaxis.range[0]"])y={xaxis:{range:[g,f]},yaxis:{range:[u,l]},annotations:t.annotations};else var y={xaxis:{range:[g,f]},yaxis:{range:[w[0],w[1]]},annotations:t.annotations};e.data.position.x1=c,e.data.position.x2=o,e.data.position.y1=u,e.data.position.y2=l,i(),t.showPlot(v,y,t.myPlot)}}})),this.myPlot.on("plotly_click",(function(e){console.log("plotly_click"),console.log(e.points[0].xaxis.range),console.log(e.points[0].yaxis.range),console.log(e);for(var i=0;i<e.points.length;i++){var s="x = "+e.points[i].x+"y = "+e.points[i].y.toPrecision(4),n={text:s,x:e.points[i].x,y:parseFloat(e.points[i].y.toPrecision(4))},r=[];r.push(n),a(r),wt.a.relayout(t.myPlot,{annotations:r}),Pt.a.publish("PlotlyClick",{x:e.points[i].x,y:e.points[i].y.toPrecision(4)})}}))}},{key:"showPlot",value:function(){var t=Object(P["a"])(regeneratorRuntime.mark((function t(a,e,i){var s,n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s=this.pathProcessor.FillPathWithVar(a,this.config.data.url.path),t.next=3,this.getData(s);case 3:if(console.log("重加载getData"),console.log(this.temp.data),null!=this.temp.data){t.next=11;break}return a.set("count","0"),this.GetAllDot=!0,s=this.pathProcessor.FillPathWithVar(a,this.config.data.url.path),t.next=11,this.getData(s);case 11:return n=this.pathProcessor.FillPathWithVar(a,this.config.data.url.timePath),console.log(s),console.log(n),t.next=16,this.getDataTimeAxis(n);case 16:console.log("重加载getDataTimeAxis"),console.log(this.temp.dataTimeAxis),r=[{x:this.temp.dataTimeAxis,y:this.temp.data}],console.log("data_update"),console.log(r),this.createChannelChart(i,r,e),this.zoom();case 23:case"end":return t.stop()}}),t,this)})));function a(a,e,i){return t.apply(this,arguments)}return a}()},{key:"addAnnotations",value:function(t){this.annotations=t}},{key:"createChannelChart",value:function(t,a){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e.margin={t:20};var i={modeBarButtonsToRemove:["resetScale2d"],displaylogo:!1};wt.a.newPlot(t,a,e,i)}},{key:"getData",value:function(){var t=Object(P["a"])(regeneratorRuntime.mark((function t(a){var e,i=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=a,t.next=3,f.a.get(e).then((function(t){i.temp.data=t.data.CFET2CORE_SAMPLE_VAL,console.log("getData"),console.log(e),console.log(t)}));case 3:case"end":return t.stop()}}),t)})));function a(a){return t.apply(this,arguments)}return a}()},{key:"getDataTimeAxis",value:function(){var t=Object(P["a"])(regeneratorRuntime.mark((function t(a){var e,i=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=a,t.next=3,f.a.get(e).then((function(t){i.temp.dataTimeAxis=t.data.CFET2CORE_SAMPLE_VAL,console.log("getDataTimeAxis"),console.log(e),console.log(t),i.nowDotNum=t.data.CFET2CORE_SAMPLE_VAL.length,console.log(i.nowDotNum)}));case 3:case"end":return t.stop()}}),t)})));function a(a){return t.apply(this,arguments)}return a}()}]),a}(p["Vue"]);Object(d["__decorate"])([Object(p["Prop"])()],St.prototype,"wave",void 0),Object(d["__decorate"])([Object(p["Prop"])()],St.prototype,"refIndex",void 0),St=Object(d["__decorate"])([Object(p["Component"])({components:{WidgetParams:_}})],St);var Ct=St,xt=Ct,Dt=Object(I["a"])(xt,mt,vt,!1,null,"9f2cb008",null),Ot=Dt.exports,kt=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"content"},[e("h3",{staticStyle:{margin:"0"},attrs:{align:"left"}},[t._v("Basic Path : "+t._s(t.basePathId))]),e("br"),e("h3",{staticStyle:{margin:"0"},attrs:{align:"left"}},[t._v(" Rate: "+t._s(t.sampleId))]),e("br"),e("h3",{staticStyle:{margin:"0"},attrs:{align:"left"}},[t._v("length: "+t._s(t.lengthId))]),e("br"),e("hr")])},Et=[],It=function(t){function a(){var t;return Object(o["a"])(this,a),t=Object(l["a"])(this,Object(u["a"])(a).apply(this,arguments)),t.basePathId="",t.sampleId="",t.lengthId="",t}return Object(h["a"])(a,t),Object(c["a"])(a,[{key:"onPathIdChanged",value:function(t,a){this.show(t)}},{key:"showPathIdConfig",value:function(){this.$emit("showPathIdConfig")}},{key:"show",value:function(){var t=Object(P["a"])(regeneratorRuntime.mark((function t(a){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.getBasePath(a),this.getSamplerate(a),this.getLength(a);case 3:case"end":return t.stop()}}),t,this)})));function a(a){return t.apply(this,arguments)}return a}()},{key:"getBasePath",value:function(){var t=Object(P["a"])(regeneratorRuntime.mark((function t(a){var e,i=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=a.thingPath+"/basepath",t.next=3,f.a.get(e).then((function(t){i.basePathId=t.data.CFET2CORE_SAMPLE_VAL}));case 3:case"end":return t.stop()}}),t)})));function a(a){return t.apply(this,arguments)}return a}()},{key:"getSamplerate",value:function(){var t=Object(P["a"])(regeneratorRuntime.mark((function t(a){var e,i=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=a.thingPath+"/samplerate/"+a.path,t.next=3,f.a.get(e).then((function(t){i.sampleId=t.data.CFET2CORE_SAMPLE_VAL}));case 3:case"end":return t.stop()}}),t)})));function a(a){return t.apply(this,arguments)}return a}()},{key:"getLength",value:function(){var t=Object(P["a"])(regeneratorRuntime.mark((function t(a){var e,i=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=a.thingPath+"/length/"+a.path,t.next=3,f.a.get(e).then((function(t){i.lengthId=t.data.CFET2CORE_SAMPLE_VAL}));case 3:case"end":return t.stop()}}),t)})));function a(a){return t.apply(this,arguments)}return a}()}]),a}(p["Vue"]);Object(d["__decorate"])([Object(p["Prop"])()],It.prototype,"pathId",void 0),Object(d["__decorate"])([Object(p["Watch"])("pathId")],It.prototype,"onPathIdChanged",null),It=Object(d["__decorate"])([p["Component"]],It);var jt=It,_t=jt,Vt=Object(I["a"])(_t,kt,Et,!1,null,null,null),$t=Vt.exports,Lt=function(t){function a(){var t;return Object(o["a"])(this,a),t=Object(l["a"])(this,Object(u["a"])(a).apply(this,arguments)),t.widgetList=[],t.WidgetComponentName="waveView",t.wave="",t.pathId="",t.strMapObjChange=new $["a"],t.userInputData=new Map,t.EditPathPoke="",t.config={WidgetComponentName:"WaveView",data:{url:{path:"",timePath:""},userInputData:"",position:{x1:"",x2:"",y1:"",y2:""}}},t}return Object(h["a"])(a,t),Object(c["a"])(a,[{key:"del",value:function(){this.$emit("del",this.index)}},{key:"openWindows",value:function(){this.$refs.setBasicParams.openWindows()}},{key:"getConfig",value:function(){return this.$refs.setBasicParams.updateUserInputData(),this.config}},{key:"replaceStartPath",value:function(t){this.config.data.url.replace("$startPath$",t)}},{key:"setConfig",value:function(t){this.config=t,console.log(t);var a=this.config.data.userInputData;this.updateUI();a=JSON.parse(JSON.stringify(a));a=this.strMapObjChange.objToStrMap(a),t.data.userInputData=a,console.log(t),this.$refs.setBasicParams.setConfig(t)}},{key:"parentUpdate",value:function(t){var a=this;this.userInputData=this.strMapObjChange.strMapToObj(this.$refs.setBasicParams.getVariableValues());var e=this.userInputData,i=0;e=this.strMapObjChange.objToStrMap(e),this.userInputData=e,console.log(this.userInputData),console.log(t.variables),this.userInputData.forEach((function(e,s){console.log("进来了"),console.log(s),t.variables.forEach((function(n,r){console.log(s),console.log(r),s==r&&e!=r&&(i=1,a.userInputData.set(s,t.variables.get(r)))}))})),1==i&&(this.$refs.setBasicParams.setVariableInput(this.userInputData),this.updateUI(),this.refresh())}},{key:"showPathIdConfig",value:function(){this.$refs.setBasicParams.showPathIdConfig()}},{key:"refresh",value:function(){this.$refs.setBasicParams.refresh()}},{key:"updateUI",value:function(){this.$refs.setBasicParams.getSampleParams(this.config.data.url.path),Array.isArray(this.sampleVal)&&this.$refs.setBasicParams.sampleLoad(this.sampleVal)}},{key:"getPathId",value:function(t){this.pathId=t}},{key:"mounted",value:function(){var t=document.getElementsByClassName("container"),a=this,e=t[this.index];e.oncontextmenu=function(t){t.preventDefault();var i=document.querySelector(".menu");i&&i.remove(),i=document.createElement("div"),i.classList.add("menu");var s=document.createElement("BUTTON");s.innerHTML="del",s.onclick=a.del,i.appendChild(s);var n=document.createElement("BUTTON");n.innerHTML="edit",n.onclick=a.openWindows,i.appendChild(n),e.appendChild(i),i.style.left=t.offsetX+"px",i.style.top=t.offsetY+"px",i.style.position="absolute"},e.onclick=function(t){var a=document.querySelector(".menu");a&&!a.contains(t.target)&&a.remove()},this.wave=this.$refs.wave}},{key:"updateConfig",value:function(t){this.config=t}},{key:"samplePoke",value:function(t){var a,e=t.CFET2CORE_SAMPLE_PATH;this.sampleVal=t.CFET2CORE_SAMPLE_VAL,a=e;var i,s=0,n=t.Actions.get.Parameters;n=JSON.parse(JSON.stringify(n)),n=this.strMapObjChange.objToStrMap(n),i=n,i.forEach((function(t,e){s++,1==s&&(a+="?"),a=a+e+"=$"+e+"$&"})),0!=s&&(a=a.substring(0,a.length-1)),this.config.data.url.path=a}},{key:"samplePokeWith",value:function(t){var a,e=t.CFET2CORE_SAMPLE_PATH;a=e;var i,s=0,n=t.Actions.get.Parameters;n=JSON.parse(JSON.stringify(n)),console.log(n),n=this.strMapObjChange.objToStrMap(n),console.log(n),i=n,i.forEach((function(t,e){s++,1==s&&(a+="?"),a=a+e+"=$"+e+"$&"})),0!=s&&(a=a.substring(0,a.length-1)),this.config.data.url.path=a}},{key:"samplePokeWithTime",value:function(t){var a,e=t.CFET2CORE_SAMPLE_PATH;a=e;var i,s=0,n=t.Actions.get.Parameters;n=JSON.parse(JSON.stringify(n)),console.log(n),n=this.strMapObjChange.objToStrMap(n),console.log(n),i=n,i.forEach((function(t,e){s++,1==s&&(a+="?"),a=a+e+"=$"+e+"$&"})),0!=s&&(a=a.substring(0,a.length-1)),this.config.data.url.timePath=a}},{key:"pathPoke",value:function(){var t=Object(P["a"])(regeneratorRuntime.mark((function t(){var a,e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.$refs.setBasicParams.updateConfig(),a=this.config.data.url.path,"a",a,t.next=6,f.a.get(this.config.data.url.path).then((function(t){e.samplePokeWith(t.data),e.updateUI()}));case 6:""!=this.config.data.url.path&&""!=this.config.data.url.timePath&&this.$refs.setBasicParams.getPathIdParams();case 7:case"end":return t.stop()}}),t,this)})));function a(){return t.apply(this,arguments)}return a}()},{key:"pathPokeTime",value:function(){var t=Object(P["a"])(regeneratorRuntime.mark((function t(){var a,e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.$refs.setBasicParams.updateConfig(),a=this.config.data.url.timePath,"a",a,t.next=6,f.a.get(this.config.data.url.timePath).then((function(t){e.samplePokeWithTime(t.data),e.updateUI()}));case 6:""!=this.config.data.url.path&&""!=this.config.data.url.timePath&&this.$refs.setBasicParams.getPathIdParams();case 7:case"end":return t.stop()}}),t,this)})));function a(){return t.apply(this,arguments)}return a}()}]),a}(C);Object(d["__decorate"])([Object(p["Prop"])()],Lt.prototype,"index",void 0),Object(d["__decorate"])([Object(p["Prop"])()],Lt.prototype,"widgetList",void 0),Object(d["__decorate"])([Object(p["Prop"])()],Lt.prototype,"refIndex",void 0),Lt=Object(d["__decorate"])([Object(S["b"])({components:{setBasicParams:Ot,showViewInfo:$t,Navigation:A}})],Lt);var Tt=Lt,Wt=Tt,Mt=(e("2d1f2"),Object(I["a"])(Wt,gt,ft,!1,null,"79ab7852",null)),Nt=Mt.exports,Ut=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"container",staticStyle:{"padding-bottom":"30px","padding-right":"30px","margin-top":"30px"}},[e("div",{staticClass:"columns content ",class:t.EditData.props.titleSize,staticStyle:{"margin-bottom":"0px","padding-left":"10px"}},[e("div",{staticClass:"column content-table-cell-heading-color is-narrow",staticStyle:{margin:"0px",padding:"0px"}},[e("h3",[t._v(t._s(t.EditData.props.title))])])]),e("div",{staticClass:"buttons"},[e("button",{staticClass:"button has-text-info is-light is-medium is-fullwidth",staticStyle:{padding:"4px","margin-bottom":"25px"},on:{click:function(a){return t.viewInvokeLoad(t.curArg)}}},[e("span",{staticStyle:{margin:"auto"}},[t._v("invoke")])])]),e("div",{staticClass:"columns"},[e("WidgetParams",{directives:[{name:"show",rawName:"v-show",value:t.isShowParams,expression:"isShowParams"}],ref:"WidgetParams",staticClass:"column",attrs:{action:"invoke"},on:{updataVariables:t.viewLoad}})],1)])},At=[],Rt=function(t){function a(){var t;return Object(o["a"])(this,a),t=Object(l["a"])(this,Object(u["a"])(a).apply(this,arguments)),t.widgetList=[],t.pathProcessor=new V,t.strMapObjChange=new $["a"],t.WidgetComponentName="Method",t.StatusValue="",t.pathId="",t.userInputData=new Map,t.pathwithVar="",t.isShowPath=!1,t.isShowParams=!1,t.fontSize=25,t.EditPathPoke="",t.config={WidgetComponentName:"Method",data:{url:"",displayname:"",userInputData:""}},t.EditData={edit:{type:"method",parseUrl:"",url:t.config.data.url,index:t.refIndex},props:{fontSize:t.fontSize,title:"",titleSize:""},params:{PokedPath:t.EditPathPoke,action:"invoke",Args:{},tempUserInputData:{},shouldUpdate:!1,userInputData:t.userInputData}},t}return Object(h["a"])(a,t),Object(c["a"])(a,[{key:"created",value:function(){this.config.data.userInputData=this.strMapObjChange.strMapToObj(this.userInputData)}},{key:"mounted",value:function(){var t=document.getElementsByClassName("container"),a=this,e=t[this.index];e.oncontextmenu=function(t){t.preventDefault();var i=document.querySelector(".menu");i&&i.remove(),i=document.createElement("div"),i.classList.add("menu");var s=document.createElement("BUTTON");s.innerHTML="del",s.onclick=a.del,i.appendChild(s);var n=document.createElement("BUTTON");n.innerHTML="edit",n.onclick=a.openWindows,i.appendChild(n),e.appendChild(i),i.style.left=t.offsetX+"px",i.style.top=t.offsetY+"px",i.style.position="absolute"},e.onclick=function(t){var a=document.querySelector(".menu");a&&!a.contains(t.target)&&a.remove()}}},{key:"openWindows",value:function(){var t=window.location.origin,a=JSON.stringify(this.EditData),e=encodeURIComponent(a),i=t+"/WindowsAppIndex.html/?";window.open(i+e,"WidgetWindow","height=400, width=800, top=200, left=400, toolbar=no")}},{key:"updateUI",value:function(){this.isShowPath=!1,this.EditData.params.PokedPath=this.config.data.url,this.EditData.edit.url=this.config.data.url,this.openWindows()}},{key:"del",value:function(){this.$emit("del",this.index)}},{key:"showPathConfig",value:function(){this.isShowPath=!this.isShowPath}},{key:"getConfig",value:function(){return[this.config,this.EditData]}},{key:"setConfig",value:function(t,a){this.config=t[0],this.EditData=t[1],-1!=this.EditData.edit.url.search("startpath")&&this.replaceStartPath(a),console.log("7878787878787878787878787878781111111"+this.config.data.url),-1!=this.EditData.edit.parseUrl.search("startpath")&&this.replaceStartPath(a);var e=this.EditData.params.tempUserInputData;e=JSON.parse(JSON.stringify(e)),e=this.strMapObjChange.objToStrMap(e);var i={action:this.EditData.params.action,variables:e,target:["self"]};this.EditData.params.Args=i,this.curArg=i}},{key:"samplePoke",value:function(t){var a,e=t.CFET2CORE_SAMPLE_PATH;a=e;var i,s=0,n=t.Actions.invoke.Parameters;n=JSON.parse(JSON.stringify(n)),n=this.strMapObjChange.objToStrMap(n),i=n,i.forEach((function(t,e){s++,1==s&&(a+="?"),a=a+e+"=$"+e+"$&"})),0!=s&&(a=a.substring(0,a.length-1)),this.config.data.url=a}},{key:"pathPoke",value:function(){var t=this;this.config.data.url=this.EditData.edit.url,this.EditPathPoke=this.EditData.edit.url;var a=this.EditData.edit.url;f.a.get(a,{headers:{Pragma:"no-cache","Cache-Control":"no-cache"}}).then((function(a){t.samplePoke(a.data),t.updateUI()})).catch((function(a){alert(a),t.EditData.params.PokedPath=t.config.data.url,t.openWindows()}))}},{key:"replaceStartPath",value:function(t){this.config.data.url=this.config.data.url.replace("$startpath$",t),this.EditData.edit.url=this.EditData.edit.url.replace("$startpath$",t),this.EditData.edit.parseUrl=this.EditData.edit.parseUrl.replace("$startpath$",t)}},{key:"parentUpdate",value:function(t){var a=this;console.log(this.EditData.params.userInputData),console.log(t),this.userInputData=this.strMapObjChange.strMapToObj(this.EditData.params.userInputData);var e=this.userInputData;e=this.strMapObjChange.objToStrMap(e),this.userInputData=e,console.log(this.userInputData),this.userInputData.forEach((function(e,i){t.variables.forEach((function(e,s){i==s&&a.userInputData.get(i)!=t.variables.get(s)&&(a.userInputData.set(i,t.variables.get(s)),console.log(a.userInputData),a.EditData.params.shouldUpdate=!0,a.EditData.params.Args.variables=a.userInputData,a.pathwithVar=a.pathProcessor.FillPathWithVar(a.userInputData,a.config.data.url),a.getData(a.pathwithVar))}))})),this.EditData.params.userInputData=this.strMapObjChange.strMapToObj(this.userInputData)}},{key:"refresh",value:function(){}},{key:"getData",value:function(){var t=Object(P["a"])(regeneratorRuntime.mark((function t(a){var e,i=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log(a),e=a,t.next=4,f.a.put(e,{headers:{Pragma:"no-cache","Cache-Control":"no-cache"}}).then((function(t){i.StatusValue=t.data.CFET2CORE_SAMPLE_VAL,void 0==i.StatusValue&&(i.StatusValue="undefined"),0==t.data.CFET2CORE_SAMPLE_ISVALID&&alert("invoke failed")})).catch((function(t){alert(t)}));case 4:case"end":return t.stop()}}),t)})));function a(a){return t.apply(this,arguments)}return a}()},{key:"viewInvokeLoad",value:function(){var t=Object(P["a"])(regeneratorRuntime.mark((function t(a){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.userInputData=a.variables,""==this.EditData.edit.url?this.config.data.url=this.EditData.edit.parseUrl:this.config.data.url=this.EditData.edit.url,console.log("111122233212331233"+this.userInputData),console.log("111122233212331233"+this.config.data.url),this.pathwithVar=this.pathProcessor.FillPathWithVar(this.userInputData,this.config.data.url),t.next=7,this.getData(this.pathwithVar);case 7:case"end":return t.stop()}}),t,this)})));function a(a){return t.apply(this,arguments)}return a}()}]),a}(C);Object(d["__decorate"])([Object(p["Prop"])()],Rt.prototype,"index",void 0),Object(d["__decorate"])([Object(p["Prop"])()],Rt.prototype,"refIndex",void 0),Object(d["__decorate"])([Object(p["Prop"])()],Rt.prototype,"widgetList",void 0),Rt=Object(d["__decorate"])([Object(S["b"])({components:{WidgetParams:_,Navigation:A}})],Rt);var Ft=Rt,Gt=Ft,Bt=(e("1cba"),Object(I["a"])(Gt,Ut,At,!1,null,"f24c232e",null)),zt=Bt.exports,Jt=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"container",staticStyle:{"margin-top":"30px","padding-top":"5.5px"}},[e("div",{staticClass:"columns content ",class:t.EditData.props.titleSize,staticStyle:{"margin-bottom":"0px","padding-left":"7px"}},[e("div",{staticClass:"column content-table-cell-heading-color is-narrow",staticStyle:{margin:"0px",padding:"0px"}},[e("h3",[t._v(t._s(t.EditData.props.title))])])]),e("div",{staticClass:"columns",staticStyle:{padding:"5px"}},[e("div",{staticClass:"field-body"},[e("div",{staticClass:"field"},[e("div",{staticClass:"control"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.setUserData,expression:"setUserData"}],staticClass:"input is-info",attrs:{type:"text"},domProps:{value:t.setUserData},on:{input:function(a){a.target.composing||(t.setUserData=a.target.value)}}})])])]),e("button",{staticClass:"button has-text-info is-light",staticStyle:{"margin-left":"15px"},on:{click:function(a){return t.viewSetLoad(t.EditData.params.Args)}}},[t._v("set")]),e("button",{staticClass:"button has-text-info is-light",staticStyle:{"margin-left":"15px"},on:{click:function(a){return t.viewLoad(t.EditData.params.Args)}}},[t._v("get")])]),e("div",{staticClass:"colmumns"},[e("WidgetParams",{ref:"WidgetGetParams",staticClass:"column",staticStyle:{"padding-top":"0px","padding-bottom":"5px"},attrs:{action:"get"},on:{updataVariables:t.viewGetLoad}})],1),e("div",{staticClass:"colmumns"},[e("WidgetParams",{ref:"WidgetSetParams",staticClass:"column",attrs:{action:"set"},on:{updataVariables:t.viewSetLoad}})],1)])},qt=[],Ht=function(t){function a(){var t;return Object(o["a"])(this,a),t=Object(l["a"])(this,Object(u["a"])(a).apply(this,arguments)),t.widgetList=[],t.pathProcessor=new V,t.strMapObjChange=new $["a"],t.WidgetComponentName="Config",t.getConfigValue="undefined",t.setConfigValue="",t.pathId="",t.userGetInputData=new Map,t.userSetInputData=new Map,t.userInputData=new Map,t.getPathwithVar="",t.setPathwithVar="",t.isShowGetPath=!1,t.isShowSetPath=!1,t.isOpen=!0,t.fontSize=25,t.activeColor="",t.EditPathPoke="",t.isSetPoke=!1,t.isGetPoke=!1,t.pokedPath="",t.setLabel="",t.setUserData="undefined",t.EditPathPoke="",t.config={WidgetComponentName:"Config",data:{displayname:"",url:"",get:{url:"",userInputData:""},set:{url:"",userInputData:""}}},t.EditData={edit:{url:t.config.data.url,parseUrl:"",setConfigUrl:"",setLabel:"",type:"config",index:t.refIndex},props:{title:"",titleSize:"",fontSize:t.fontSize},params:{PokedPath:t.EditPathPoke,action:"get",Args:{},tempUserInputData:{},setLabel:"",shouldUpdate:!1,userInputData:t.userInputData}},t}return Object(h["a"])(a,t),Object(c["a"])(a,[{key:"created",value:function(){this.config.data.get.userInputData=this.strMapObjChange.strMapToObj(this.userGetInputData),this.config.data.set.userInputData=this.strMapObjChange.strMapToObj(this.userSetInputData)}},{key:"mounted",value:function(){var t=document.getElementsByClassName("container"),a=this,e=t[this.index];e.oncontextmenu=function(t){t.preventDefault();var i=document.querySelector(".menu");i&&i.remove(),i=document.createElement("div"),i.classList.add("menu");var s=document.createElement("BUTTON");s.innerHTML="del",s.onclick=a.del,i.appendChild(s);var n=document.createElement("BUTTON");n.innerHTML="edit",n.onclick=a.openWindows,i.appendChild(n),e.appendChild(i),i.style.left=t.offsetX+"px",i.style.top=t.offsetY+"px",i.style.position="absolute"},e.onclick=function(t){var a=document.querySelector(".menu");a&&!a.contains(t.target)&&a.remove()}}},{key:"openWindows",value:function(){var t=window.location.origin,a=JSON.stringify(this.EditData),e=encodeURIComponent(a),i=t+"/WindowsAppIndex.html/?";window.open(i+e,"WidgetWindow","height=400, width=800, top=200, left=400, toolbar=no")}},{key:"del",value:function(){this.$emit("del",this.index)}},{key:"updateUI",value:function(){this.EditData.params.PokedPath=this.config.data.url,this.EditData.edit.url=this.config.data.url,this.openWindows()}},{key:"showPathConfig",value:function(){this.isShowGetPath==this.isShowSetPath?(this.isShowGetPath=!this.isShowGetPath,this.isShowSetPath=!this.isShowSetPath):(this.isShowGetPath=!0,this.isShowSetPath=!0)}},{key:"getConfig",value:function(){return[this.config,this.EditData]}},{key:"setConfig",value:function(t,a){this.config=t[0],this.EditData=t[1],-1!=this.EditData.edit.url.search("startpath")&&this.replaceStartPath(a),-1!=this.EditData.edit.parseUrl.search("startpath")&&this.replaceStartPath(a),-1!=this.EditData.edit.setConfigUrl.search("startpath")&&this.replaceStartPath(a);var e=this.EditData.params.tempUserInputData;e=JSON.parse(JSON.stringify(e)),e=this.strMapObjChange.objToStrMap(e),this.setLabel=this.EditData.params.setLabel;var i={action:this.EditData.params.action,variables:e,target:["self"]};this.EditData.params.Args=i,this.pathPoke(),this.viewLoad(i)}},{key:"samplePoke",value:function(t){var a=this;console.log(t);var e,i,s=t.CFET2CORE_SAMPLE_PATH;e=s,i=s;var n,r=t.Actions.set.Parameters;r=JSON.parse(JSON.stringify(r)),r=this.strMapObjChange.objToStrMap(r),n=r;var o,c=t.Actions.get.Parameters;c=JSON.parse(JSON.stringify(c)),c=this.strMapObjChange.objToStrMap(c),o=c;var l=0;o.forEach((function(t,a){l++,1==l&&(i+="?"),i=i+a+"=$"+a+"$&"})),0!=l&&(i=i.substring(0,i.length-1)),this.config.data.get.url=i,l=0,n.forEach((function(t,i){l++,1==l&&(e+="?",a.pokedPath=e),l<n.size&&(e=e+i+"=$"+i+"$&"),l==n.size&&(a.setLabel=i,a.EditData.params.setLabel=i,a.config.data.set.url=e+i+"=$"+i+"$")})),0!=l&&(e=e.substring(0,e.length-1)),l=0,o.forEach((function(t,a){n.forEach((function(t,i){l++,i!=a&&(e=e+a+"=$"+a+"$&")}))})),0!=l&&(e=e.substring(0,e.length-1)),console.log(this.config.data.url),this.config.data.url=e}},{key:"pathPoke",value:function(){var t=this;this.config.data.url=this.EditData.edit.url,this.EditPathPoke=this.EditData.edit.url;var a=this.config.data.url;console.log(a),f.a.defaults.timeout=1e3,f.a.get(a).then((function(a){console.log(f.a),t.isGetPoke=!0,t.samplePoke(a.data),t.updateUI()})).catch((function(a){t.EditData.params.PokedPath=t.config.data.url,t.openWindows()}))}},{key:"replaceStartPath",value:function(t){this.config.data.get.url=this.config.data.get.url.replace("$startpath$",t),this.config.data.set.url=this.config.data.set.url.replace("$startpath$",t),this.EditData.edit.setConfigUrl=this.EditData.edit.setConfigUrl.replace("$startpath$",t),this.EditData.edit.parseUrl=this.EditData.edit.parseUrl.replace("$startpath$",t),this.config.data.url=this.config.data.url.replace("$startpath$",t),this.EditData.edit.url=this.EditData.edit.url.replace("$startpath$",t)}},{key:"parentUpdate",value:function(t){var a=this;this.userGetInputData=this.strMapObjChange.strMapToObj(this.userGetInputData);var e=this.userGetInputData;e=this.strMapObjChange.objToStrMap(e),this.userGetInputData=e,this.userGetInputData.forEach((function(e,i){t.variables.forEach((function(e,s){i==s&&a.userGetInputData.get(i)!=t.variables.get(s)&&(a.userGetInputData.set(i,t.variables.get(s)),a.EditData.params.shouldUpdate=!0,a.EditData.params.Args.variables=a.userGetInputData,a.viewGetLoad(a.EditData.params.Args))}))})),this.EditData.params.userInputData=this.strMapObjChange.strMapToObj(this.userGetInputData),this.userSetInputData=this.strMapObjChange.strMapToObj(this.userSetInputData),e=this.userSetInputData,e=this.strMapObjChange.objToStrMap(e),this.userSetInputData=e,this.userSetInputData.forEach((function(e,i){t.variables.forEach((function(e,s){i==s&&a.userSetInputData.get(i)!=t.variables.get(s)&&(a.userSetInputData.set(i,t.variables.get(s)),a.viewSetLoad(a.EditData.params.Args))}))}))}},{key:"getData",value:function(){var t=Object(P["a"])(regeneratorRuntime.mark((function t(a){var e,i=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("in"),e=a,console.log(a),t.next=5,f.a.get(e,{headers:{Pragma:"no-cache","Cache-Control":"no-cache"}}).then((function(t){i.setUserData=t.data.CFET2CORE_SAMPLE_VAL,console.log(i.setUserData),void 0==i.setUserData&&(i.setUserData="undefined")})).catch((function(t){i.setUserData="undefined"}));case 5:case"end":return t.stop()}}),t)})));function a(a){return t.apply(this,arguments)}return a}()},{key:"setData",value:function(){var t=Object(P["a"])(regeneratorRuntime.mark((function t(a){var e,i=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("in"),console.log(a),e=a,t.next=5,f.a.post(e,{headers:{Pragma:"no-cache","Cache-Control":"no-cache"}}).then((function(t){i.setUserData=t.data.CFET2CORE_SAMPLE_VAL,console.log(i.setUserData),1==t.data.CFET2CORE_SAMPLE_ISVALID&&alert("success")}));case 5:case"end":return t.stop()}}),t)})));function a(a){return t.apply(this,arguments)}return a}()},{key:"viewLoad",value:function(t){this.viewGetLoad(t)}},{key:"viewGetLoad",value:function(){var t=Object(P["a"])(regeneratorRuntime.mark((function t(a){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.userGetInputData=a.variables,console.log(this.EditData.edit.parseUrl),""!=this.EditData.edit.parseUrl&&(""==this.EditData.edit.url?this.config.data.get.url=this.EditData.edit.parseUrl:this.config.data.get.url=this.EditData.edit.url),console.log(this.config.data.get.url),this.getPathwithVar=this.pathProcessor.FillPathWithVar(this.userGetInputData,this.config.data.get.url),t.next=7,this.getData(this.getPathwithVar);case 7:case"end":return t.stop()}}),t,this)})));function a(a){return t.apply(this,arguments)}return a}()},{key:"viewSetLoad",value:function(){var t=Object(P["a"])(regeneratorRuntime.mark((function t(a){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log(this.config.data.set.url),""!=this.EditData.edit.parseUrl&&(this.config.data.set.url=this.EditData.edit.setConfigUrl,console.log(this.config.data.set.url),this.setLabel=this.EditData.edit.setLabel),"[object Undefined]"==Object.prototype.toString.call(a.variables)?this.userSetInputData.set(this.setLabel,this.setUserData):(console.log("in"),this.userSetInputData=a.variables,this.userSetInputData.set(this.setLabel,this.setUserData),console.log(this.userSetInputData)),this.setPathwithVar=this.pathProcessor.FillPathWithVar(this.userSetInputData,this.config.data.set.url),t.next=6,this.setData(this.setPathwithVar);case 6:case"end":return t.stop()}}),t,this)})));function a(a){return t.apply(this,arguments)}return a}()},{key:"getrefresh",value:function(){var t={action:"get",variables:this.$refs.WidgetGetParams.getVariableValues(),target:["self"]};this.viewGetLoad(t)}}]),a}(C);Object(d["__decorate"])([Object(p["Prop"])()],Ht.prototype,"index",void 0),Object(d["__decorate"])([Object(p["Prop"])()],Ht.prototype,"refIndex",void 0),Object(d["__decorate"])([Object(p["Prop"])()],Ht.prototype,"widgetList",void 0),Ht=Object(d["__decorate"])([Object(S["b"])({components:{WidgetParams:_,Navigation:A,Windows:q}})],Ht);var Kt=Ht,Xt=Kt,Yt=(e("a1f5"),Object(I["a"])(Xt,Jt,qt,!1,null,"1d3895c1",null)),Qt=Yt.exports,Zt=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"container",staticStyle:{"margin-top":"30px","padding-top":"8px"}},[e("div",{staticClass:"columns content ",class:t.EditData.props.titleSize,staticStyle:{"margin-bottom":"0px","padding-left":"7px"}},[e("div",{staticClass:"column content-table-cell-heading-color is-narrow",staticStyle:{margin:"0px",padding:"0px"}},[e("h3",[t._v(t._s(t.EditData.props.title))])])]),e("div",{staticClass:"columns",staticStyle:{padding:"5px",display:"flex","justify-content":"center"}},[e("toggle-button",{attrs:{sync:!0,width:"70",height:"34",disabled:t.checkActiveSample,"switch-color":"{checked: '#25EF02', unchecked: 'linear-gradient(red, yellow)'}",labels:{checked:"open",unchecked:"close"}},on:{change:function(a){return t.viewSetLoad(t.EditData.params.Args,!1)}},model:{value:t.switchValue,callback:function(a){t.switchValue=a},expression:"switchValue"}})],1),e("div",[e("WidgetParams",{ref:"WidgetGetParams",staticStyle:{"padding-top":"0px","padding-bottom":"5px"},attrs:{action:"get"},on:{updataVariables:t.viewGetLoad}})],1),e("div",[e("WidgetParams",{ref:"WidgetSetParams",attrs:{action:"set"},on:{updataVariables:t.viewSetLoad}})],1)])},ta=[],aa=function(t){function a(){var t;return Object(o["a"])(this,a),t=Object(l["a"])(this,Object(u["a"])(a).apply(this,arguments)),t.widgetList=[],t.pathProcessor=new V,t.strMapObjChange=new $["a"],t.WidgetComponentName="BoolConfig",t.getConfigValue="undefined",t.setConfigValue="",t.pathId="",t.userGetInputData=new Map,t.userSetInputData=new Map,t.userInputData=new Map,t.getPathwithVar="",t.setPathwithVar="",t.isShowGetPath=!1,t.isShowSetPath=!1,t.isOpen=!0,t.activeColor="",t.EditPathPoke="",t.isSetPoke=!1,t.isGetPoke=!1,t.pokedPath="",t.isShowParams=!1,t.setLabel="",t.switchValue=!1,t.checkActiveSample=!0,t.config={WidgetComponentName:"BoolConfig",data:{displayname:"",url:"",get:{url:"",userInputData:""},set:{url:"",userInputData:""}}},t.EditData={edit:{url:t.config.data.url,parseUrl:"",setConfigUrl:"",setLabel:"",type:"Boolconfig",index:t.refIndex},props:{title:"",titleSize:""},params:{PokedPath:t.EditPathPoke,action:"get",Args:{},tempUserInputData:{},setLabel:"",shouldUpdate:!1,userInputData:t.userInputData}},t}return Object(h["a"])(a,t),Object(c["a"])(a,[{key:"created",value:function(){this.config.data.get.userInputData=this.strMapObjChange.strMapToObj(this.userGetInputData),this.config.data.set.userInputData=this.strMapObjChange.strMapToObj(this.userSetInputData)}},{key:"mounted",value:function(){this.timer=setInterval(this.getrefresh,1e3);var t=document.getElementsByClassName("container"),a=this,e=t[this.index];e.oncontextmenu=function(t){t.preventDefault();var i=document.querySelector(".menu");i&&i.remove(),i=document.createElement("div"),i.classList.add("menu");var s=document.createElement("BUTTON");s.innerHTML="del",s.onclick=a.del,i.appendChild(s);var n=document.createElement("BUTTON");n.innerHTML="edit",n.onclick=a.openWindows,i.appendChild(n),e.appendChild(i),i.style.left=t.offsetX+"px",i.style.top=t.offsetY+"px",i.style.position="absolute"},e.onclick=function(t){var a=document.querySelector(".menu");a&&!a.contains(t.target)&&a.remove()}}},{key:"destroyed",value:function(){clearInterval(this.timer)}},{key:"openWindows",value:function(){var t=window.location.origin,a=JSON.stringify(this.EditData),e=encodeURIComponent(a),i=t+"/WindowsAppIndex.html/?";window.open(i+e,"WidgetWindow","height=400, width=800, top=200, left=400, toolbar=no")}},{key:"del",value:function(){this.$emit("del",this.index)}},{key:"updateSwitchValue",value:function(){"[object Boolean]"!=Object.prototype.toString.call(this.getConfigValue)&&1!=this.getConfigValue&&0!=this.getConfigValue&&0!=this.getConfigValue&&1!=this.getConfigValue||(this.checkActiveSample=!1,"[object String]"==Object.prototype.toString.call(this.getConfigValue)?("1"==this.getConfigValue?this.switchValue=!0:"0"==this.getConfigValue&&(this.switchValue=!1),console.log(this.getConfigValue),console.log(this.switchValue)):this.switchValue=Boolean(this.getConfigValue))}},{key:"updateUI",value:function(){this.EditData.params.PokedPath=this.config.data.url,this.EditData.edit.url=this.config.data.url,this.openWindows()}},{key:"showPathConfig",value:function(){this.isShowGetPath==this.isShowSetPath?(this.isShowGetPath=!this.isShowGetPath,this.isShowSetPath=!this.isShowSetPath):(this.isShowGetPath=!0,this.isShowSetPath=!0)}},{key:"getConfig",value:function(){return[this.config,this.EditData]}},{key:"setConfig",value:function(t,a){this.config=t[0],this.EditData=t[1],-1!=this.EditData.edit.url.search("startpath")&&this.replaceStartPath(a),-1!=this.EditData.edit.parseUrl.search("startpath")&&this.replaceStartPath(a),-1!=this.EditData.edit.setConfigUrl.search("startpath")&&this.replaceStartPath(a);var e=this.EditData.params.tempUserInputData;e=JSON.parse(JSON.stringify(e)),e=this.strMapObjChange.objToStrMap(e),this.setLabel=this.EditData.params.setLabel;var i={action:this.EditData.params.action,variables:e,target:["self"]};this.EditData.params.Args=i,this.pathPoke(),this.viewLoad(i)}},{key:"samplePoke",value:function(t){var a,e,i=this,s=t.CFET2CORE_SAMPLE_PATH;a=s,e=s;var n,r=t.Actions.set.Parameters;r=JSON.parse(JSON.stringify(r)),r=this.strMapObjChange.objToStrMap(r),n=r;var o,c=t.Actions.get.Parameters;c=JSON.parse(JSON.stringify(c)),c=this.strMapObjChange.objToStrMap(c),o=c;var l=0;o.forEach((function(t,a){l++,1==l&&(e+="?"),e=e+a+"=$"+a+"$&"})),0!=l&&(e=e.substring(0,e.length-1)),this.config.data.get.url=e,l=0,n.forEach((function(t,e){l++,1==l&&(a+="?",i.pokedPath=a),l<n.size&&(a=a+e+"=$"+e+"$&"),l==n.size&&(i.isShowParams=!0,i.setLabel=e,i.EditData.params.setLabel=e,i.config.data.set.url=a+e+"=$"+e+"$")})),0!=l&&(a=a.substring(0,a.length-1)),l=0,o.forEach((function(t,e){n.forEach((function(t,i){l++,i!=e&&(a=a+e+"=$"+e+"$&")}))})),0!=l&&(a=a.substring(0,a.length-1)),this.config.data.url=a}},{key:"pathPoke",value:function(){var t=this;this.config.data.url=this.EditData.edit.url,this.EditPathPoke=this.EditData.edit.url;var a=this.config.data.url;f.a.get(a).then((function(a){t.isGetPoke=!0,t.samplePoke(a.data),t.updateUI()})).catch((function(a){t.openWindows()}))}},{key:"replaceStartPath",value:function(t){this.config.data.get.url=this.config.data.get.url.replace("$startpath$",t),this.config.data.set.url=this.config.data.set.url.replace("$startpath$",t),this.config.data.url=this.config.data.url.replace("$startpath$",t),this.EditData.edit.url=this.EditData.edit.url.replace("$startpath$",t),this.EditData.edit.parseUrl=this.EditData.edit.parseUrl.replace("$startpath$",t),this.EditData.edit.setConfigUrl=this.EditData.edit.setConfigUrl.replace("$startpath$",t)}},{key:"parentUpdate",value:function(t){var a=this;this.userGetInputData=this.strMapObjChange.strMapToObj(this.userGetInputData);var e=this.userGetInputData;e=this.strMapObjChange.objToStrMap(e),this.userGetInputData=e,this.userGetInputData.forEach((function(e,i){t.variables.forEach((function(e,s){i==s&&a.userGetInputData.get(i)!=t.variables.get(s)&&(a.userGetInputData.set(i,t.variables.get(s)),a.EditData.params.shouldUpdate=!0,a.EditData.params.Args.variables=a.userGetInputData,a.viewGetLoad(a.EditData.params.Args))}))})),this.EditData.params.userInputData=this.strMapObjChange.strMapToObj(this.userGetInputData),this.userSetInputData=this.strMapObjChange.strMapToObj(this.userSetInputData),e=this.userSetInputData,e=this.strMapObjChange.objToStrMap(e),this.userSetInputData=e,this.userSetInputData.forEach((function(e,i){t.variables.forEach((function(e,s){i==s&&a.userSetInputData.get(i)!=t.variables.get(s)&&(a.userSetInputData.set(i,t.variables.get(s)),a.viewSetLoad(a.EditData.params.Args))}))}))}},{key:"getData",value:function(){var t=Object(P["a"])(regeneratorRuntime.mark((function t(a){var e,i=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=a,console.log(a),t.next=4,f.a.get(e,{headers:{Pragma:"no-cache","Cache-Control":"no-cache"}}).then((function(t){i.getConfigValue=t.data.CFET2CORE_SAMPLE_VAL,void 0==i.getConfigValue&&(i.getConfigValue="undefined")}));case 4:this.updateSwitchValue();case 5:case"end":return t.stop()}}),t,this)})));function a(a){return t.apply(this,arguments)}return a}()},{key:"setData",value:function(){var t=Object(P["a"])(regeneratorRuntime.mark((function t(a){var e,i=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=a,t.next=3,f.a.post(e,{headers:{Pragma:"no-cache","Cache-Control":"no-cache"}}).then((function(t){i.setConfigValue=t.data.CFET2CORE_SAMPLE_VAL}));case 3:case"end":return t.stop()}}),t)})));function a(a){return t.apply(this,arguments)}return a}()},{key:"viewLoad",value:function(t){var a=!0;this.viewSetLoad(t,a)}},{key:"viewGetLoad",value:function(){var t=Object(P["a"])(regeneratorRuntime.mark((function t(a){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.userGetInputData=a.variables,""!=this.EditData.edit.parseUrl&&(""==this.EditData.edit.url?(console.log("1"+this.EditData.edit.parseUrl),this.config.data.get.url=this.EditData.edit.parseUrl):this.config.data.get.url=this.EditData.edit.url),this.getPathwithVar=this.pathProcessor.FillPathWithVar(this.userGetInputData,this.config.data.get.url),t.next=5,this.getData(this.getPathwithVar);case 5:case"end":return t.stop()}}),t,this)})));function a(a){return t.apply(this,arguments)}return a}()},{key:"viewSetLoad",value:function(){var t=Object(P["a"])(regeneratorRuntime.mark((function t(a,e){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(console.log("set"),0!=e){t.next=13;break}return console.log("iii"),""!=this.EditData.edit.parseUrl&&(this.config.data.set.url=this.EditData.edit.setConfigUrl,console.log(this.config.data.set.url),this.setLabel=this.EditData.edit.setLabel),"[object Undefined]"==Object.prototype.toString.call(a.variables)?"[object Number]"==Object.prototype.toString.call(this.getConfigValue)||0==this.getConfigValue||1==this.getConfigValue?(console.log("1010101"),i=Number(this.switchValue),console.log(i),this.userSetInputData.set(this.setLabel,i)):this.userSetInputData.set(this.setLabel,this.switchValue):"[object Number]"==Object.prototype.toString.call(this.getConfigValue)||0==this.getConfigValue||1==this.getConfigValue?(console.log("1010101"),i=Number(this.switchValue),console.log(i),this.userSetInputData=a.variables,this.userSetInputData.set(this.setLabel,i)):(this.userSetInputData=a.variables,this.userSetInputData.set(this.setLabel,this.switchValue)),console.log(this.setPathwithVar),this.setPathwithVar=this.pathProcessor.FillPathWithVar(this.userSetInputData,this.config.data.set.url),console.log(this.setPathwithVar),t.next=10,this.setData(this.setPathwithVar);case 10:this.getrefresh(),t.next=14;break;case 13:1==e&&this.getrefresh();case 14:case"end":return t.stop()}}),t,this)})));function a(a,e){return t.apply(this,arguments)}return a}()},{key:"getrefresh",value:function(){this.viewGetLoad(this.EditData.params.Args)}}]),a}(C);Object(d["__decorate"])([Object(p["Prop"])()],aa.prototype,"index",void 0),Object(d["__decorate"])([Object(p["Prop"])()],aa.prototype,"refIndex",void 0),Object(d["__decorate"])([Object(p["Prop"])()],aa.prototype,"widgetList",void 0),aa=Object(d["__decorate"])([Object(S["b"])({components:{WidgetParams:_,Navigation:A,Windows:q}})],aa);var ea=aa,ia=ea,sa=(e("5796"),Object(I["a"])(ia,Zt,ta,!1,null,"00fcd236",null)),na=sa.exports,ra=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"container"},[e("div",{staticClass:"columns",staticStyle:{"margin-top":"10px"}},[""!=t.config.data.displayname?e("span",{directives:[{name:"show",rawName:"v-show",value:!t.isShowPath,expression:"!isShowPath"}],staticClass:"largeFont",staticStyle:{float:"left"}},[t._v(t._s(t.config.data.displayname))]):t._e(),""==t.config.data.displayname?e("span",{directives:[{name:"show",rawName:"v-show",value:!t.isShowPath,expression:"!isShowPath"}],staticClass:"largeFont",staticStyle:{float:"left"}},[t._v(t._s(t.config.data.url))]):t._e(),e("input",{directives:[{name:"show",rawName:"v-show",value:t.isShowPath,expression:"isShowPath"},{name:"model",rawName:"v-model",value:t.config.data.displayname,expression:"config.data.displayname"}],staticClass:"input colmumn is-8",attrs:{type:"text"},domProps:{value:t.config.data.displayname},on:{input:function(a){a.target.composing||t.$set(t.config.data,"displayname",a.target.value)}}}),e("div",{staticClass:"column is-offset-11-desktop"},[e("a",{staticClass:"delete is-medium",on:{click:t.del}})])]),e("div",{staticClass:"columns"},[e("WidgetParams",{directives:[{name:"show",rawName:"v-show",value:t.isShowParams,expression:"isShowParams"}],ref:"WidgetParams",staticClass:"column",attrs:{action:"get"},on:{updataVariables:t.viewLoad}})],1),e("p",{staticClass:"column buttons is-1",staticStyle:{"margin-left":"3%",padding:"0px","margin-right":"10%","margin-top":"5%"}},[e("button",{staticClass:"button",staticStyle:{"background-color":"#64a6e1"},on:{click:t.openWindows}},[t._m(0),t._v("\n      EDIT")])])])},oa=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("span",{staticClass:"icon is-small has-text",staticStyle:{"margin-right":"1px"}},[e("i",{staticClass:"fa fa-cog",attrs:{"aria-hidden":"true"}})])}],ca=function(t){function a(){var t;return Object(o["a"])(this,a),t=Object(l["a"])(this,Object(u["a"])(a).apply(this,arguments)),t.widgetList=[],t.pathProcessor=new V,t.strMapObjChange=new $["a"],t.WidgetComponentName="Thing",t.StatusValue="",t.pathId="",t.userInputData=new Map,t.pathwithVar="",t.isShowPath=!1,t.isShowParams=!1,t.isOpen=!0,t.config={WidgetComponentName:"Thing",data:{url:"",displayname:"",userInputData:""}},t.schemas=[{label:"thing",key:"thing-config",type:"thing",index:t.index}],t}return Object(h["a"])(a,t),Object(c["a"])(a,[{key:"created",value:function(){this.config.data.userInputData=this.strMapObjChange.strMapToObj(this.userInputData)}},{key:"openWindows",value:function(){this.isOpen=!this.isOpen,this.$parent.$parent.$root.$children[0].OpenWindows(this.isOpen),this.$emit("schemas",this.schemas)}},{key:"del",value:function(){this.$emit("del",this.index),console.log("del"+this.index)}},{key:"updateUI",value:function(t,a,e){console.log("111"),console.log(this.config.data.url),this.isShowPath=t,this.isShowParams=a,this.config.data.url=e}},{key:"showPathConfig",value:function(){this.isShowPath=!this.isShowPath}},{key:"getConfig",value:function(){return this.config.data.userInputData=this.strMapObjChange.strMapToObj(this.$refs.WidgetParams.getVariableValues()),this.config}},{key:"setConfig",value:function(t){this.config=t,this.$refs.WidgetParams.setVariableList(this.pathProcessor.extractVarFromPath(this.config.data.url));var a=this.config.data.userInputData;a=JSON.parse(JSON.stringify(a)),a=this.strMapObjChange.objToStrMap(a),this.userInputData=a,this.$refs.WidgetParams.setVariableInput(this.userInputData)}},{key:"samplePoke",value:function(t){var a,e=t.CFET2CORE_SAMPLE_PATH;a=e,this.config.data.url=a,this.$parent.$root.$children[0].$children[0].$children[0].config.data.url=a}},{key:"replaceStartPath",value:function(t){this.config.data.url.replace("$startPath$",t)}},{key:"parentUpdate",value:function(t){}},{key:"refresh",value:function(){var t={action:"get",variables:this.$refs.WidgetParams.getVariableValues(),target:["self"]};this.viewLoad(t)}},{key:"getData",value:function(){var t=Object(P["a"])(regeneratorRuntime.mark((function t(a){var e,i=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=a,t.next=3,f.a.get(e).then((function(t){i.StatusValue=t.data.CFET2CORE_SAMPLE_VAL}));case 3:case"end":return t.stop()}}),t)})));function a(a){return t.apply(this,arguments)}return a}()},{key:"viewLoad",value:function(){var t=Object(P["a"])(regeneratorRuntime.mark((function t(a){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.userInputData=a.variables,this.pathwithVar=this.pathProcessor.FillPathWithVar(this.userInputData,this.config.data.url),t.next=4,this.getData(this.pathwithVar);case 4:case"end":return t.stop()}}),t,this)})));function a(a){return t.apply(this,arguments)}return a}()}]),a}(C);Object(d["__decorate"])([Object(p["Prop"])()],ca.prototype,"index",void 0),Object(d["__decorate"])([Object(p["Prop"])()],ca.prototype,"widgetList",void 0),ca=Object(d["__decorate"])([Object(S["b"])({components:{WidgetParams:_,Navigation:A}})],ca);var la=ca,ua=la,ha=(e("9245"),Object(I["a"])(ua,ra,oa,!1,null,"209b0ad0",null)),da=ha.exports,pa=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"container",staticStyle:{"margin-top":"30px"}},[e("div",{staticClass:"columns content ",class:t.EditData.props.titleSize,staticStyle:{"margin-bottom":"0px","padding-left":"7px"}},[e("div",{staticClass:"column content-table-cell-heading-color is-narrow",staticStyle:{margin:"0px",padding:"0px"}},[e("h3",[t._v(t._s(t.EditData.props.title))])])]),e("div",{staticClass:"columns",staticStyle:{padding:"5px"}},[e("span",{staticStyle:{"background-color":"#bbb","border-radius":"50%",display:"inline-block"},style:{backgroundColor:t.activeColor,height:t.EditData.props.fontSize+"px",width:t.EditData.props.fontSize+"px"}}),t.EditData.edit.isShowStateVlaue?e("div",{staticClass:"column is-2",style:{fontColor:t.activeColor}},[t._v(t._s(t.stateKey))]):t._e()]),e("div",{staticClass:"columns"},[e("WidgetParams",{directives:[{name:"show",rawName:"v-show",value:t.isShowParams,expression:"isShowParams"}],ref:"WidgetParams",staticClass:"column",attrs:{action:"get"},on:{updataVariables:t.viewLoad}})],1)])},ga=[],fa=function(t){function a(){var t;return Object(o["a"])(this,a),t=Object(l["a"])(this,Object(u["a"])(a).apply(this,arguments)),t.widgetList=[],t.pathProcessor=new V,t.strMapObjChange=new $["a"],t.WidgetComponentName="State",t.StatusValue="",t.pathId="",t.userInputData=new Map,t.pathwithVar="",t.isShowPath=!1,t.isShowParams=!1,t.EditPathPoke="",t.fontSize=50,t.activeColor="#bbb",t.stateKey="",t.config={WidgetComponentName:"State",data:{url:"",displayname:"",userInputData:""}},t.EditData={edit:{type:"state",parseUrl:"",url:t.config.data.url,index:t.refIndex,isShowStateVlaue:!1},props:{fontSize:t.fontSize,title:"",titleSize:"",StateFile:'{"Idle":"yellow","prepare":"orange","run":"green","error":"red" }',StateIndicator:'{"0":"Idle","1":"prepare","2":"run","255":"error"}'},params:{PokedPath:t.EditPathPoke,action:"get",Args:{},tempUserInputData:{},shouldUpdate:!1,userInputData:t.userInputData}},t}return Object(h["a"])(a,t),Object(c["a"])(a,[{key:"created",value:function(){this.config.data.userInputData=this.strMapObjChange.strMapToObj(this.userInputData)}},{key:"mounted",value:function(){this.timer=setInterval(this.refresh,1e3);var t=document.getElementsByClassName("container"),a=this,e=t[this.index];e.oncontextmenu=function(t){t.preventDefault();var i=document.querySelector(".menu");i&&i.remove(),i=document.createElement("div"),i.classList.add("menu");var s=document.createElement("BUTTON");s.innerHTML="del",s.onclick=a.del,i.appendChild(s);var n=document.createElement("BUTTON");n.innerHTML="edit",n.onclick=a.openWindows,i.appendChild(n),e.appendChild(i),i.style.left=t.offsetX+"px",i.style.top=t.offsetY+"px",i.style.position="absolute"},e.onclick=function(t){var a=document.querySelector(".menu");a&&!a.contains(t.target)&&a.remove()}}},{key:"destroyed",value:function(){clearInterval(this.timer)}},{key:"openWindows",value:function(){var t=window.location.origin,a=JSON.stringify(this.EditData),e=encodeURIComponent(a),i=t+"/WindowsAppIndex.html/?";window.open(i+e,"WidgetWindow","height=400, width=800, top=200, left=400, toolbar=no")}},{key:"del",value:function(){this.$emit("del",this.index)}},{key:"updateUI",value:function(){this.isShowPath=!1,this.EditData.params.PokedPath=this.config.data.url,this.EditData.edit.url=this.config.data.url,this.openWindows()}},{key:"showPathConfig",value:function(){this.isShowPath=!this.isShowPath}},{key:"getConfig",value:function(){return[this.config,this.EditData]}},{key:"setConfig",value:function(t,a){this.config=t[0],this.EditData=t[1],-1!=this.EditData.edit.url.search("startpath")&&this.replaceStartPath(a),-1!=this.EditData.edit.parseUrl.search("startpath")&&this.replaceStartPath(a);var e=this.EditData.params.tempUserInputData;e=JSON.parse(JSON.stringify(e)),e=this.strMapObjChange.objToStrMap(e);var i={action:this.EditData.params.action,variables:e,target:["self"]};this.EditData.params.Args=i,this.viewLoad(i)}},{key:"pathPoke",value:function(){var t=this;this.config.data.url=this.EditData.edit.url,this.EditPathPoke=this.EditData.edit.url;var a=this.EditData.edit.url;f.a.defaults.timeout=1e3,f.a.get(a,{headers:{Pragma:"no-cache","Cache-Control":"no-cache"}}).then((function(a){t.samplePoke(a.data),t.updateUI()})).catch((function(a){t.colourViewLoad(),t.EditData.params.PokedPath=t.config.data.url,t.openWindows()}))}},{key:"samplePoke",value:function(t){var a,e=t.CFET2CORE_SAMPLE_PATH;a=e;var i,s=0,n=t.Actions.get.Parameters;n=JSON.parse(JSON.stringify(n)),n=this.strMapObjChange.objToStrMap(n),i=n,i.forEach((function(t,e){s++,1==s&&(a+="?"),a=a+e+"=$"+e+"$&"})),0!=s&&(a=a.substring(0,a.length-1)),this.config.data.url=a}},{key:"replaceStartPath",value:function(t){this.config.data.url=this.config.data.url.replace("$startpath$",t),this.EditData.edit.url=this.EditData.edit.url.replace("$startpath$",t),this.EditData.edit.parseUrl=this.EditData.edit.parseUrl.replace("$startpath$",t)}},{key:"parentUpdate",value:function(t){var a=this;this.userInputData=this.strMapObjChange.strMapToObj(this.EditData.params.userInputData);var e=this.userInputData;e=this.strMapObjChange.objToStrMap(e),this.userInputData=e,console.log(this.userInputData),this.userInputData.forEach((function(e,i){t.variables.forEach((function(e,s){i==s&&a.userInputData.get(i)!=t.variables.get(s)&&(a.userInputData.set(i,t.variables.get(s)),console.log(a.userInputData),a.EditData.params.shouldUpdate=!0,a.EditData.params.Args.variables=a.userInputData,a.pathwithVar=a.pathProcessor.FillPathWithVar(a.userInputData,a.config.data.url),a.getData(a.pathwithVar))}))})),this.EditData.params.userInputData=this.strMapObjChange.strMapToObj(this.userInputData)}},{key:"refresh",value:function(){this.viewLoad(this.EditData.params.Args)}},{key:"getData",value:function(){var t=Object(P["a"])(regeneratorRuntime.mark((function t(a){var e,i=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=a,t.next=3,f.a.get(e,{headers:{Pragma:"no-cache","Cache-Control":"no-cache"}}).then((function(t){i.StatusValue=t.data.CFET2CORE_SAMPLE_VAL}));case 3:case"end":return t.stop()}}),t)})));function a(a){return t.apply(this,arguments)}return a}()},{key:"colourViewLoad",value:function(){console.log(this.StatusValue);var t=JSON.parse(this.EditData.props.StateFile),a=JSON.parse(this.EditData.props.StateIndicator);console.log(a),this.stateKey=a[this.StatusValue],console.log(this.stateKey),this.activeColor=t[this.stateKey],console.log(this.activeColor),void 0==this.activeColor&&(this.activeColor="#bbb")}},{key:"viewLoad",value:function(){var t=Object(P["a"])(regeneratorRuntime.mark((function t(a){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.userInputData=a.variables,""==this.EditData.edit.url?this.config.data.url=this.EditData.edit.parseUrl:this.config.data.url=this.EditData.edit.url,this.pathwithVar=this.pathProcessor.FillPathWithVar(this.userInputData,this.config.data.url),t.next=5,this.getData(this.pathwithVar);case 5:this.colourViewLoad();case 6:case"end":return t.stop()}}),t,this)})));function a(a){return t.apply(this,arguments)}return a}()}]),a}(C);Object(d["__decorate"])([Object(p["Prop"])()],fa.prototype,"index",void 0),Object(d["__decorate"])([Object(p["Prop"])()],fa.prototype,"refIndex",void 0),Object(d["__decorate"])([Object(p["Prop"])()],fa.prototype,"widgetList",void 0),fa=Object(d["__decorate"])([Object(S["b"])({components:{WidgetParams:_,Navigation:A}})],fa);var ma=fa,va=ma,ba=(e("4465"),Object(I["a"])(va,pa,ga,!1,null,"8b1d4aa2",null)),wa=ba.exports,ya=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"container",staticStyle:{"margin-top":"30px"}},[e("div",{staticClass:"columns content ",class:t.EditData.props.titleSize,staticStyle:{"margin-bottom":"0px","padding-left":"7px"}},[e("div",{staticClass:"column content-table-cell-heading-color is-narrow",staticStyle:{margin:"0px",padding:"0px"}},[e("h3",[t._v(t._s(t.EditData.props.title))])])]),e("div",{staticClass:"columns",staticStyle:{padding:"5px"}},[e("span",{staticStyle:{"background-color":"#bbb","border-radius":"50%",display:"inline-block"},style:{backgroundColor:t.activeColor,height:t.EditData.props.fontSize+"px",width:t.EditData.props.fontSize+"px"}}),t.EditData.edit.isShowStateVlaue?e("div",{style:{fontColor:t.activeColor}},[t._v(t._s(t.stateKey))]):t._e()]),e("div",{staticClass:"columns"},[e("WidgetParams",{directives:[{name:"show",rawName:"v-show",value:t.isShowParams,expression:"isShowParams"}],ref:"WidgetParams",staticClass:"column",attrs:{action:"get"},on:{updataVariables:t.viewLoad}})],1)])},Pa=[],Sa=function(t){function a(){var t;return Object(o["a"])(this,a),t=Object(l["a"])(this,Object(u["a"])(a).apply(this,arguments)),t.widgetList=[],t.pathProcessor=new V,t.strMapObjChange=new $["a"],t.WidgetComponentName="BoolState",t.StatusValue="",t.pathId="",t.userInputData=new Map,t.pathwithVar="",t.isShowPath=!1,t.isShowParams=!1,t.EditPathPoke="",t.fontSize=50,t.activeColor="#bbb",t.stateKey="",t.StateIndicator={true:"green",false:"red"},t.config={WidgetComponentName:"BoolState",data:{url:"",displayname:"",userInputData:""}},t.EditData={edit:{type:"Boolstate",parseUrl:"",url:t.config.data.url,index:t.refIndex,isShowStateVlaue:!1},props:{fontSize:t.fontSize,title:"",titleSize:""},params:{PokedPath:t.EditPathPoke,action:"get",Args:{},tempUserInputData:{},shouldUpdate:!1,userInputData:t.userInputData}},t}return Object(h["a"])(a,t),Object(c["a"])(a,[{key:"created",value:function(){this.config.data.userInputData=this.strMapObjChange.strMapToObj(this.userInputData)}},{key:"mounted",value:function(){this.timer=setInterval(this.refresh,1e3);var t=document.getElementsByClassName("container"),a=this,e=t[this.index];e.oncontextmenu=function(t){t.preventDefault();var i=document.querySelector(".menu");i&&i.remove(),i=document.createElement("div"),i.classList.add("menu");var s=document.createElement("BUTTON");s.innerHTML="del",s.onclick=a.del,i.appendChild(s);var n=document.createElement("BUTTON");n.innerHTML="edit",n.onclick=a.openWindows,i.appendChild(n),e.appendChild(i),i.style.left=t.offsetX+"px",i.style.top=t.offsetY+"px",i.style.position="absolute"},e.onclick=function(t){var a=document.querySelector(".menu");a&&!a.contains(t.target)&&a.remove()}}},{key:"destroyed",value:function(){clearInterval(this.timer)}},{key:"openWindows",value:function(){var t=window.location.origin,a=JSON.stringify(this.EditData),e=encodeURIComponent(a),i=t+"/WindowsAppIndex.html/?";window.open(i+e,"WidgetWindow","height=400, width=800, top=200, left=400, toolbar=no")}},{key:"del",value:function(){this.$emit("del",this.index)}},{key:"updateUI",value:function(){this.isShowPath=!1,this.EditData.params.PokedPath=this.config.data.url,this.EditData.edit.url=this.config.data.url,this.openWindows()}},{key:"showPathConfig",value:function(){this.isShowPath=!this.isShowPath}},{key:"getConfig",value:function(){return[this.config,this.EditData]}},{key:"setConfig",value:function(t,a){this.config=t[0],this.EditData=t[1],-1!=this.EditData.edit.url.search("startpath")&&this.replaceStartPath(a),-1!=this.EditData.edit.parseUrl.search("startpath")&&this.replaceStartPath(a);var e=this.EditData.params.tempUserInputData;e=JSON.parse(JSON.stringify(e)),e=this.strMapObjChange.objToStrMap(e);var i={action:this.EditData.params.action,variables:e,target:["self"]};this.EditData.params.Args=i,this.viewLoad(i)}},{key:"pathPoke",value:function(){var t=this;this.config.data.url=this.EditData.edit.url,this.EditPathPoke=this.EditData.edit.url;var a=this.EditData.edit.url;f.a.defaults.timeout=1e3,f.a.get(a,{headers:{Pragma:"no-cache","Cache-Control":"no-cache"}}).then((function(a){t.samplePoke(a.data),t.updateUI()})).catch((function(a){t.colourViewLoad(),t.EditData.params.PokedPath=t.config.data.url,t.openWindows()}))}},{key:"samplePoke",value:function(t){var a,e=t.CFET2CORE_SAMPLE_PATH;a=e;var i,s=0,n=t.Actions.get.Parameters;n=JSON.parse(JSON.stringify(n)),n=this.strMapObjChange.objToStrMap(n),i=n,i.forEach((function(t,e){s++,1==s&&(a+="?"),a=a+e+"=$"+e+"$&"})),0!=s&&(a=a.substring(0,a.length-1)),this.config.data.url=a}},{key:"replaceStartPath",value:function(t){this.config.data.url=this.config.data.url.replace("$startpath$",t),this.EditData.edit.url=this.EditData.edit.url.replace("$startpath$",t),this.EditData.edit.parseUrl=this.EditData.edit.parseUrl.replace("$startpath$",t)}},{key:"parentUpdate",value:function(t){var a=this;this.userInputData=this.strMapObjChange.strMapToObj(this.EditData.params.userInputData);var e=this.userInputData;e=this.strMapObjChange.objToStrMap(e),this.userInputData=e,console.log(this.userInputData),this.userInputData.forEach((function(e,i){t.variables.forEach((function(e,s){i==s&&a.userInputData.get(i)!=t.variables.get(s)&&(a.userInputData.set(i,t.variables.get(s)),console.log(a.userInputData),a.EditData.params.shouldUpdate=!0,a.EditData.params.Args.variables=a.userInputData,a.pathwithVar=a.pathProcessor.FillPathWithVar(a.userInputData,a.config.data.url),a.getData(a.pathwithVar))}))})),this.EditData.params.userInputData=this.strMapObjChange.strMapToObj(this.userInputData)}},{key:"refresh",value:function(){this.viewLoad(this.EditData.params.Args)}},{key:"getData",value:function(){var t=Object(P["a"])(regeneratorRuntime.mark((function t(a){var e,i=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=a,t.next=3,f.a.get(e,{headers:{Pragma:"no-cache","Cache-Control":"no-cache"}}).then((function(t){i.StatusValue=t.data.CFET2CORE_SAMPLE_VAL}));case 3:case"end":return t.stop()}}),t)})));function a(a){return t.apply(this,arguments)}return a}()},{key:"colourViewLoad",value:function(){this.activeColor=this.StateIndicator[this.StatusValue],void 0==this.activeColor&&(this.activeColor="#bbb")}},{key:"viewLoad",value:function(){var t=Object(P["a"])(regeneratorRuntime.mark((function t(a){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.userInputData=a.variables,""==this.EditData.edit.url?this.config.data.url=this.EditData.edit.parseUrl:this.config.data.url=this.EditData.edit.url,this.pathwithVar=this.pathProcessor.FillPathWithVar(this.userInputData,this.config.data.url),t.next=5,this.getData(this.pathwithVar);case 5:this.colourViewLoad();case 6:case"end":return t.stop()}}),t,this)})));function a(a){return t.apply(this,arguments)}return a}()}]),a}(C);Object(d["__decorate"])([Object(p["Prop"])()],Sa.prototype,"index",void 0),Object(d["__decorate"])([Object(p["Prop"])()],Sa.prototype,"refIndex",void 0),Object(d["__decorate"])([Object(p["Prop"])()],Sa.prototype,"widgetList",void 0),Sa=Object(d["__decorate"])([Object(S["b"])({components:{WidgetParams:_,Navigation:A}})],Sa);var Ca=Sa,xa=Ca,Da=(e("f855"),Object(I["a"])(xa,ya,Pa,!1,null,"a6f2f4f8",null)),Oa=Da.exports,ka=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"hflex"},[e("div",{staticClass:"container",staticStyle:{"margin-top":"30px","padding-top":"5px"}},[e("button",{staticClass:"button column",staticStyle:{"background-color":"#216dec","padding-top":"6px"},on:{click:function(a){return t.viewLoad(t.EditData.params.Args)}}},[t._v("broadcast")]),e("div",{staticClass:"columns"},[e("WidgetParams",{directives:[{name:"show",rawName:"v-show",value:t.isShowParams,expression:"isShowParams"}],ref:"WidgetParams",attrs:{action:"broadcast"},on:{updataVariables:t.viewload}})],1)])])},Ea=[],Ia=function(t){function a(){var t;return Object(o["a"])(this,a),t=Object(l["a"])(this,Object(u["a"])(a).apply(this,arguments)),t.widgetList=[],t.pathProcessor=new V,t.strMapObjChange=new $["a"],t.WidgetComponentName="VarBroadcast",t.StatusValue="",t.pathId="",t.userInputData=new Map,t.pathwithVar="",t.isShowPath=!1,t.isShowParams=!1,t.EditPathPoke="",t.config={WidgetComponentName:"VarBroadcast",data:{url:"",displayname:"",userInputData:""}},t.EditData={edit:{type:"VarBroadcast",url:t.config.data.url,index:t.refIndex,isShowStateVlaue:!1},props:{fontSize:22,title:"",titleSize:""},params:{PokedPath:t.EditPathPoke,action:"get",Args:{},tempUserInputData:{}}},t}return Object(h["a"])(a,t),Object(c["a"])(a,[{key:"created",value:function(){this.config.data.userInputData=this.strMapObjChange.strMapToObj(this.userInputData)}},{key:"mounted",value:function(){var t=document.getElementsByClassName("container"),a=this,e=t[this.index];e.oncontextmenu=function(t){t.preventDefault();var i=document.querySelector(".menu");i&&i.remove(),i=document.createElement("div"),i.classList.add("menu");var s=document.createElement("BUTTON");s.innerHTML="del",s.onclick=a.del,i.appendChild(s);var n=document.createElement("BUTTON");n.innerHTML="edit",n.onclick=a.openWindows,i.appendChild(n),e.appendChild(i),i.style.left=t.offsetX+"px",i.style.top=t.offsetY+"px",i.style.position="absolute"},e.onclick=function(t){var a=document.querySelector(".menu");a&&!a.contains(t.target)&&a.remove()}}},{key:"openWindows",value:function(){var t=window.location.origin,a=JSON.stringify(this.EditData),e=encodeURIComponent(a),i=t+"/WindowsAppIndex.html/?";window.open(i+e,"WidgetWindow","height=100, width=100, top=10, left=10, toolbar=no")}},{key:"del",value:function(){this.$emit("del",this.index),console.log("del"+this.index)}},{key:"updateUI",value:function(){this.isShowPath=!1,this.EditData.params.PokedPath=this.config.data.url,this.EditData.edit.url=this.config.data.url,this.openWindows()}},{key:"showPathConfig",value:function(){this.isShowPath=!this.isShowPath}},{key:"getConfig",value:function(){return[this.config,this.EditData]}},{key:"setConfig",value:function(t,a){this.config=t[0],this.EditData=t[1],-1!=this.EditData.edit.url.search("startpath")&&this.replaceStartPath(a);var e=this.EditData.params.tempUserInputData;e=JSON.parse(JSON.stringify(e)),e=this.strMapObjChange.objToStrMap(e);var i={action:this.EditData.params.action,variables:e,target:["self"]};this.viewLoad(i)}},{key:"samplePoke",value:function(t){var a,e=t.CFET2CORE_SAMPLE_PATH;a=e;var i,s=0,n=t.Actions.get.Parameters;n=JSON.parse(JSON.stringify(n)),n=this.strMapObjChange.objToStrMap(n),i=n,i.forEach((function(t,e){s++,1==s&&(a+="?"),a=a+e+"=$"+e+"$&"})),0!=s&&(a=a.substring(0,a.length-1)),this.config.data.url=a,this.$parent.$root.$children[0].$children[0].$children[0].config.data.url=a}},{key:"pathPoke",value:function(){var t=this;this.config.data.url=this.EditData.edit.url,this.EditPathPoke=this.EditData.edit.url;var a=this.config.data.url;window.$axios.get(a).then((function(a){t.samplePoke(a.data),t.updateUI()})).catch((function(a){t.EditData.params.PokedPath=t.config.data.url,t.openWindows()}))}},{key:"replaceStartPath",value:function(t){this.config.data.url=this.config.data.url.replace("$startpath$",t),this.EditData.edit.url=this.EditData.edit.url.replace("$startpath$",t)}},{key:"parentUpdate",value:function(t){}},{key:"refresh",value:function(){this.viewLoad(this.EditData.params.Args)}},{key:"getData",value:function(){var t=Object(P["a"])(regeneratorRuntime.mark((function t(a){var e,i=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=a,t.next=3,window.$axios.get(e).then((function(t){i.StatusValue=t.data.CFET2CORE_SAMPLE_VAL,void 0==i.StatusValue&&(i.StatusValue="undefined")}));case 3:case"end":return t.stop()}}),t)})));function a(a){return t.apply(this,arguments)}return a}()},{key:"viewLoad",value:function(){var t=Object(P["a"])(regeneratorRuntime.mark((function t(a){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:console.log("view"),Pt.a.publish("VarBroadcast",a);case 2:case"end":return t.stop()}}),t)})));function a(a){return t.apply(this,arguments)}return a}()}]),a}(C);Object(d["__decorate"])([Object(p["Prop"])()],Ia.prototype,"index",void 0),Object(d["__decorate"])([Object(p["Prop"])()],Ia.prototype,"refIndex",void 0),Object(d["__decorate"])([Object(p["Prop"])()],Ia.prototype,"widgetList",void 0),Ia=Object(d["__decorate"])([Object(S["b"])({components:{WidgetParams:_,Navigation:A}})],Ia);var ja=Ia,_a=ja,Va=(e("2891"),Object(I["a"])(_a,ka,Ea,!1,null,"5107eaf0",null)),$a=Va.exports,La=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"hflex"},[e("div",{staticClass:"container"},[e("div",{staticClass:"columns",staticStyle:{"margin-top":"0px"}},[e("div",{staticClass:"column is-4"},[""!=t.config.data.displayname?e("span",{directives:[{name:"show",rawName:"v-show",value:!t.isShowPath,expression:"!isShowPath"}],staticClass:"largeFont"},[t._v(t._s(t.config.data.displayname))]):t._e(),""==t.config.data.displayname?e("span",{directives:[{name:"show",rawName:"v-show",value:!t.isShowPath,expression:"!isShowPath"}],staticClass:"largeFont"},[t._v(t._s(t.config.data.url))]):t._e()]),e("div",{staticClass:"column is-1 is-offset-7"},[e("a",{staticClass:"delete is-medium",on:{click:t.del}})])]),e("div",{staticClass:"columns",staticStyle:{"margin-top":"5px"}},[e("div",{staticClass:"column is-10",staticStyle:{"margin-left":"3%",overflow:"auto","border-style":"solid","border-width":"1px",padding:"2px"}},[e("p",{staticStyle:{float:"left",margin:"0px"}},[t._v(t._s(t.StatusValue))])])]),e("hsc-window-style-metal",[e("hsc-window",{attrs:{title:"AutoBroadcast params",closeButton:!0,isOpen:t.isOpen,positionHint:"5 / 5"},on:{"update:isOpen":function(a){t.isOpen=a},"update:is-open":function(a){t.isOpen=a}}},[e("fieldset",{staticStyle:{padding:"20px"}},[e("div",{staticClass:"columns"},[e("div",{staticClass:"column is-2",staticStyle:{color:"#206dec","font-size":"18px","font-style":"oblique","font-weight":"900",padding:"0px"}},[t._v("To Do")]),e("i",{staticClass:"fa fa-question-circle-o",staticStyle:{"margin-top":"5px","margin-left":"3px"},attrs:{"aria-hidden":"true"}})]),e("div",{staticClass:"columns"},[t._v("You can broadcast params value to all the Widget")]),e("div",{staticClass:"columns",staticStyle:{"margin-bottom":"0px"}},[e("div",{staticClass:"field column is-7",staticStyle:{"padding-right":"0px"}},[e("div",{staticClass:"control"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.config.data.url,expression:"config.data.url"}],staticClass:"input is-info",attrs:{type:"text"},domProps:{value:t.config.data.url},on:{input:function(a){a.target.composing||t.$set(t.config.data,"url",a.target.value)}}})])]),e("div",{staticClass:"column",staticStyle:{position:"relative",right:"25px"}},[e("button",{staticClass:"button is-light ",on:{click:t.updateUI}},[t._v("OK")])]),e("div",{staticClass:"column",staticStyle:{position:"relative",right:"50px"}},[e("button",{staticClass:"button is-info",on:{click:t.pathPoke}},[t._v("POKE")])])]),e("div",{staticClass:"columns"},[e("WidgetParams",{directives:[{name:"show",rawName:"v-show",value:t.isShowParams,expression:"isShowParams"}],ref:"WidgetParams",attrs:{action:"get"},on:{updataVariables:t.viewLoad}})],1),e("div",{staticClass:"field is-horizontal",staticStyle:{margin:"5px"}},[e("div",{staticClass:"field-label is-normal"},[e("label",{staticClass:"label"},[t._v("BroadcastName")])]),e("div",{staticClass:"field-body"},[e("div",{staticClass:"field"},[e("div",{staticClass:"control"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.config.data.autoUpdateName,expression:"config.data.autoUpdateName"}],staticClass:"input",attrs:{type:"text"},domProps:{value:t.config.data.autoUpdateName},on:{input:function(a){a.target.composing||t.$set(t.config.data,"autoUpdateName",a.target.value)}}})])])])]),e("div",{staticClass:"field is-horizontal columns",staticStyle:{margin:"5px"}},[e("div",{staticClass:"field-label is-normal column"},[e("label",{staticClass:"label ",staticStyle:{"padding-top":"12px"}},[t._v("BroadcastValue")])]),e("div",{staticClass:"field-body column is-5"},[e("div",{staticClass:"field"},[e("div",{staticClass:"control"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.config.data.autoUpdateValue,expression:"config.data.autoUpdateValue"}],staticClass:"input",attrs:{type:"text"},domProps:{value:t.config.data.autoUpdateValue},on:{input:function(a){a.target.composing||t.$set(t.config.data,"autoUpdateValue",a.target.value)}}})])])]),e("div",{staticClass:"column",staticStyle:{position:"relative"}},[e("button",{staticClass:"button is-info",on:{click:t.broadcast}},[t._v("Broadcast")])])]),e("div",{staticClass:"field is-horizontal",staticStyle:{margin:"5px"}},[e("div",{staticClass:"field-label is-normal"},[e("label",{staticClass:"label"},[t._v("DelayTime")])]),e("div",{staticClass:"field-body"},[e("div",{staticClass:"field"},[e("div",{staticClass:"control"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.config.data.delayTime,expression:"config.data.delayTime"}],staticClass:"input",attrs:{type:"text"},domProps:{value:t.config.data.delayTime},on:{input:function(a){a.target.composing||t.$set(t.config.data,"delayTime",a.target.value)}}})])])])])]),e("fieldset",[e("hr"),e("div",{staticClass:"columns",staticStyle:{"margin-top":"5px","margin-bottom":"5px","margin-right":"5px"}},[e("button",{staticClass:"button column is-offset-8 is-4",staticStyle:{"background-color":"#8fb9f7","padding-top":"6px"}},[t._v("\n              Navigation")])])])]),e("p",{staticClass:"column buttons is-1",staticStyle:{"margin-left":"3%",padding:"0px","margin-right":"10%","margin-top":"5%"}},[e("button",{staticClass:"button",staticStyle:{"background-color":"#64a6e1"},on:{click:function(a){t.isOpen=!t.isOpen}}},[e("span",{staticClass:"icon is-small has-text",staticStyle:{"margin-right":"1px"}},[e("i",{staticClass:"fa fa-cog",attrs:{"aria-hidden":"true"}})]),t._v("\n          EDIT")])])],1)],1)])},Ta=[],Wa=function(t){function a(){var t;return Object(o["a"])(this,a),t=Object(l["a"])(this,Object(u["a"])(a).apply(this,arguments)),t.widgetList=[],t.pathProcessor=new V,t.strMapObjChange=new $["a"],t.WidgetComponentName="AutoBroadcast",t.StatusValue="",t.preStatusValue="",t.pathId="",t.userInputData=new Map,t.pathwithVar="",t.isShowPath=!1,t.isShowParams=!1,t.isOpen=!0,t.config={WidgetComponentName:"AutoBroadcast",data:{url:"",displayname:"",userInputData:"",autoUpdateName:"",autoUpdateValue:"",delayTime:""}},t}return Object(h["a"])(a,t),Object(c["a"])(a,[{key:"created",value:function(){this.config.data.userInputData=this.strMapObjChange.strMapToObj(this.userInputData)}},{key:"mounted",value:function(){this.timer=setInterval(this.refresh,1e3)}},{key:"destroyed",value:function(){clearInterval(this.timer)}},{key:"del",value:function(){this.$emit("del",this.index),console.log("del"+this.index),this.destroyed()}},{key:"updateUI",value:function(){this.isShowPath=!1,this.isShowParams=!0;var t=this.config.data.url;this.pathId=t.slice(0,t.indexOf("/")),this.$refs.WidgetParams.setVariableList(this.pathProcessor.extractVarFromPath(t))}},{key:"showPathConfig",value:function(){this.isShowPath=!this.isShowPath}},{key:"getConfig",value:function(){return this.config.data.userInputData=this.strMapObjChange.strMapToObj(this.$refs.WidgetParams.getVariableValues()),this.config}},{key:"setConfig",value:function(t){this.config=t,this.updateUI();var a=this.config.data.userInputData;a=JSON.parse(JSON.stringify(a)),a=this.strMapObjChange.objToStrMap(a),this.userInputData=a,this.$refs.WidgetParams.setVariableInput(this.userInputData)}},{key:"samplePoke",value:function(t){var a,e=t.CFET2CORE_SAMPLE_PATH;a=e;var i,s=0,n=t.Actions.get.Parameters;n=JSON.parse(JSON.stringify(n)),n=this.strMapObjChange.objToStrMap(n),i=n,i.forEach((function(t,e){s++,1==s&&(a+="?"),a=a+e+"=$"+e+"$&"})),0!=s&&(a=a.substring(0,a.length-1)),this.config.data.url=a}},{key:"pathPoke",value:function(){var t=this,a=this.config.data.url;f.a.get(a,{headers:{Pragma:"no-cache","Cache-Control":"no-cache"}}).then((function(a){t.samplePoke(a.data),t.updateUI()}))}},{key:"replaceStartPath",value:function(t){this.config.data.url.replace("$startPath$",t)}},{key:"parentUpdate",value:function(t){}},{key:"refresh",value:function(){var t={action:"get",variables:this.$refs.WidgetParams.getVariableValues(),target:["self"]};this.viewLoad(t)}},{key:"getData",value:function(){var t=Object(P["a"])(regeneratorRuntime.mark((function t(a){var e,i=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=a,t.next=3,f.a.get(e,{headers:{Pragma:"no-cache","Cache-Control":"no-cache"}}).then((function(t){i.StatusValue=t.data.CFET2CORE_SAMPLE_VAL,void 0==i.StatusValue&&(i.StatusValue="undefined")}));case 3:case"end":return t.stop()}}),t)})));function a(a){return t.apply(this,arguments)}return a}()},{key:"broadcast",value:function(){if(""!=this.config.data.autoUpdateName&&""!=this.config.data.autoUpdateValue){var t=new Map;t.set(this.config.data.autoUpdateName,this.config.data.autoUpdateValue);var a={action:"AutoBroadcast",variables:t,target:["self"]};Pt.a.publish("VarBroadcast",a),this.preStatusValue=this.config.data.autoUpdateValue,console.log("preStatusValue"+this.preStatusValue),console.log("autoUpdateValue"+this.config.data.autoUpdateValue)}}},{key:"viewLoad",value:function(){var t=Object(P["a"])(regeneratorRuntime.mark((function t(a){var e,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.userInputData=a.variables,this.pathwithVar=this.pathProcessor.FillPathWithVar(this.userInputData,this.config.data.url),t.next=4,this.getData(this.pathwithVar);case 4:""!=this.config.data.autoUpdateName&&this.preStatusValue!=this.StatusValue&&(console.log("before autobroadcast"),console.log("preStatusValue"+this.preStatusValue),console.log("StatusValue"+this.StatusValue),e=new Map,e.set(this.config.data.autoUpdateName,this.StatusValue),i={action:"AutoBroadcast",variables:e,target:["self"]},this.preStatusValue=this.StatusValue,setTimeout((function(){Pt.a.publish("VarBroadcast",i)}),this.config.data.delayTime));case 5:case"end":return t.stop()}}),t,this)})));function a(a){return t.apply(this,arguments)}return a}()}]),a}(C);Object(d["__decorate"])([Object(p["Prop"])()],Wa.prototype,"index",void 0),Object(d["__decorate"])([Object(p["Prop"])()],Wa.prototype,"widgetList",void 0),Wa=Object(d["__decorate"])([Object(S["b"])({components:{WidgetParams:_,Navigation:A}})],Wa);var Ma=Wa,Na=Ma,Ua=(e("9c29"),Object(I["a"])(Na,La,Ta,!1,null,"7297e98a",null)),Aa=Ua.exports,Ra=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"hflex"},[e("div",{staticClass:"container"},[e("div",{staticClass:"columns",staticStyle:{"margin-top":"0px"}},[e("div",{staticClass:"column is-4"},[""!=t.config.data.displayname?e("span",{directives:[{name:"show",rawName:"v-show",value:!t.isShowPath,expression:"!isShowPath"}],staticClass:"largeFont"},[t._v(t._s(t.config.data.displayname))]):t._e(),""==t.config.data.displayname?e("span",{directives:[{name:"show",rawName:"v-show",value:!t.isShowPath,expression:"!isShowPath"}],staticClass:"largeFont"},[t._v(t._s(t.config.data.url))]):t._e()]),e("div",{staticClass:"column is-1 is-offset-7"},[e("a",{staticClass:"delete is-medium",on:{click:t.del}})])]),t.isShowGIF?t._e():e("video-player",{ref:"videoPlayer",attrs:{playsinline:!0,options:t.playerOptions}}),t.isShowGIF?e("img",{attrs:{src:t.slideURL}}):t._e(),e("div",{staticClass:"columns"},[e("WidgetParams",{directives:[{name:"show",rawName:"v-show",value:t.isShowParams,expression:"isShowParams"}],ref:"WidgetParams",attrs:{action:"get"},on:{updataVariables:t.viewLoad}})],1),e("p",{staticClass:"column buttons is-1",staticStyle:{"margin-left":"3%",padding:"0px","margin-right":"10%","margin-top":"5%"}},[e("button",{staticClass:"button",staticStyle:{"background-color":"#64a6e1"},on:{click:t.openWindows}},[t._m(0),t._v("\n        EDIT")])])],1)])},Fa=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("span",{staticClass:"icon is-small has-text",staticStyle:{"margin-right":"1px"}},[e("i",{staticClass:"fa fa-cog",attrs:{"aria-hidden":"true"}})])}],Ga=function(t){function a(){var t;return Object(o["a"])(this,a),t=Object(l["a"])(this,Object(u["a"])(a).apply(this,arguments)),t.widgetList=[],t.pathProcessor=new V,t.strMapObjChange=new $["a"],t.WidgetComponentName="SlideShow",t.StatusValue="",t.pathId="",t.userInputData=new Map,t.pathwithVar="",t.isShowPath=!1,t.isShowParams=!1,t.currentImgIndex=-1,t.isPause=!1,t.pauseFlag=!1,t.isOpen=!1,t.isShowGIF=!1,t.slideType="mp4",t.slideURL="",t.playerOptions={playbackRates:[.5,1,1.5,2],autoplay:!0,muted:!1,loop:!0,preload:"auto",language:"zh-CN",aspectRatio:"16:9",fluid:!0,sources:[{type:"video/"+t.slideType,src:""}],poster:"",notSupportedMessage:"此视频暂无法播放，请稍后再试",controlBar:{timeDivider:!0,durationDisplay:!0,remainingTimeDisplay:!1,fullscreenToggle:!0}},t.schemas=[{label:"slideshow",key:"slideshow-config",type:"slideshow",index:t.index}],t.config={WidgetComponentName:"SlideShow",data:{url:"",displayname:"",userInputData:""}},t}return Object(h["a"])(a,t),Object(c["a"])(a,[{key:"created",value:function(){}},{key:"del",value:function(){this.$emit("del",this.index)}},{key:"openWindows",value:function(){this.isOpen=!this.isOpen,this.$parent.$parent.$root.$children[0].OpenWindows(this.isOpen),this.$emit("schemas",this.schemas)}},{key:"updateUI",value:function(t,a,e){console.log("111"),console.log(this.config.data.url),this.isShowPath=t,this.isShowParams=a,this.config.data.url=e,this.playerOptions["sources"][0]["src"]=e,".gif"==this.config.data.url.match(".(gif)$")[0]?(this.slideURL=e,this.isShowGIF=!0):this.isShowGIF=!1}},{key:"showPathConfig",value:function(){this.isShowPath=!this.isShowPath}},{key:"getConfig",value:function(){return this.config.data.userInputData=this.strMapObjChange.strMapToObj(this.$refs.WidgetParams.getVariableValues()),this.config}},{key:"setConfig",value:function(t){this.config=t,this.$refs.WidgetParams.setVariableList(this.pathProcessor.extractVarFromPath(this.config.data.url));var a=this.config.data.userInputData;a=JSON.parse(JSON.stringify(a)),a=this.strMapObjChange.objToStrMap(a),this.userInputData=a,this.$refs.WidgetParams.setVariableInput(this.userInputData)}},{key:"samplePoke",value:function(t){var a,e=t.CFET2CORE_SAMPLE_PATH;a=e;var i,s=0,n=t.Actions.get.Parameters;n=JSON.parse(JSON.stringify(n)),n=this.strMapObjChange.objToStrMap(n),i=n,i.forEach((function(t,e){s++,1==s&&(a+="?"),a=a+e+"=$"+e+"$&"})),0!=s&&(a=a.substring(0,a.length-1)),this.config.data.url=a,this.$parent.$root.$children[0].$children[0].$children[0].config.data.url=a}},{key:"replaceStartPath",value:function(t){this.config.data.url.replace("$startPath$",t)}},{key:"parentUpdate",value:function(t){var a=this,e=!1;this.userInputData=this.strMapObjChange.strMapToObj(this.$refs.WidgetParams.getVariableValues());var i=this.userInputData;i=this.strMapObjChange.objToStrMap(i),this.userInputData=i,this.userInputData.forEach((function(i,s){t.variables.forEach((function(i,n){s==n&&a.userInputData.get(s)!=t.variables.get(n)&&(a.userInputData.set(s,t.variables.get(n)),e=!0)}))})),e&&(console.log("I have updated"+this.userInputData),this.$refs.WidgetParams.setVariableInput(this.userInputData),this.$refs.WidgetParams.setVariableList(this.pathProcessor.extractVarFromPath(this.config.data.url)),this.refresh())}},{key:"refresh",value:function(){var t={action:"get",variables:this.$refs.WidgetParams.getVariableValues(),target:["self"]};this.viewLoad(t)}},{key:"viewLoad",value:function(){var t=Object(P["a"])(regeneratorRuntime.mark((function t(a){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.userInputData=a.variables,this.pathwithVar=this.pathProcessor.FillPathWithVar(this.userInputData,this.config.data.url),t.next=4,this.getData(this.pathwithVar);case 4:case"end":return t.stop()}}),t,this)})));function a(a){return t.apply(this,arguments)}return a}()}]),a}(C);Object(d["__decorate"])([Object(p["Prop"])()],Ga.prototype,"index",void 0),Object(d["__decorate"])([Object(p["Prop"])()],Ga.prototype,"widgetList",void 0),Ga=Object(d["__decorate"])([Object(S["b"])({components:{WidgetParams:_,Navigation:A}})],Ga);var Ba=Ga,za=Ba,Ja=(e("94e7"),Object(I["a"])(za,Ra,Fa,!1,null,"7c5dcc80",null)),qa=Ja.exports,Ha=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"hflex"},[e("div",{staticClass:"container"},[e("div",{staticClass:"columns",staticStyle:{"margin-top":"0px"}},[e("div",{staticClass:"column is-4"},[""!=t.config.data.displayname?e("span",{directives:[{name:"show",rawName:"v-show",value:!t.isShowPath,expression:"!isShowPath"}],staticClass:"largeFont"},[t._v(t._s(t.config.data.displayname))]):t._e(),""==t.config.data.displayname?e("span",{directives:[{name:"show",rawName:"v-show",value:!t.isShowPath,expression:"!isShowPath"}],staticClass:"largeFont"},[t._v(t._s(t.config.data.url))]):t._e()]),e("div",{staticClass:"column is-1 is-offset-7"},[e("a",{staticClass:"delete is-medium",on:{click:t.del}})])]),t._l(t.StatusValue,(function(a,i){return e("div",{key:i,staticClass:"columns",staticStyle:{"margin-top":"5px"}},[e("div",{staticClass:"column is-10",staticStyle:{"margin-left":"3%",overflow:"auto","border-style":"solid","border-width":"1px",padding:"2px"}},[e("p",{staticStyle:{float:"left",margin:"0px"}},[t._v(t._s(a))])])])})),e("div",{staticClass:"columns"},[e("WidgetParams",{directives:[{name:"show",rawName:"v-show",value:t.isShowParams,expression:"isShowParams"}],ref:"WidgetParams",attrs:{action:"get"},on:{updataVariables:t.viewLoad}})],1),e("p",{staticClass:"column buttons is-1",staticStyle:{"margin-left":"3%",padding:"0px","margin-right":"10%","margin-top":"5%"}},[e("button",{staticClass:"button",staticStyle:{"background-color":"#64a6e1"},on:{click:t.openWindows}},[t._m(0),t._v("\n         EDIT")])])],2)])},Ka=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("span",{staticClass:"icon is-small has-text",staticStyle:{"margin-right":"1px"}},[e("i",{staticClass:"fa fa-cog",attrs:{"aria-hidden":"true"}})])}],Xa=function(t){function a(){var t;return Object(o["a"])(this,a),t=Object(l["a"])(this,Object(u["a"])(a).apply(this,arguments)),t.widgetList=[],t.pathProcessor=new V,t.strMapObjChange=new $["a"],t.WidgetComponentName="CardReader",t.StatusValue=[],t.pathId="",t.userInputData=new Map,t.pathwithVar="",t.isShowPath=!1,t.isShowParams=!1,t.isOpen=!0,t.config={WidgetComponentName:"CardReader",data:{url:"",displayname:"",userInputData:""}},t.schemas=[{label:"cardreader",key:"cardreader-config",type:"cardreader",index:t.index}],t}return Object(h["a"])(a,t),Object(c["a"])(a,[{key:"created",value:function(){this.config.data.userInputData=this.strMapObjChange.strMapToObj(this.userInputData)}},{key:"mounted",value:function(){this.timer=setInterval(this.refresh,1e3)}},{key:"destroyed",value:function(){clearInterval(this.timer)}},{key:"openWindows",value:function(){this.isOpen=!this.isOpen,this.$parent.$parent.$root.$children[0].OpenWindows(this.isOpen),this.$emit("schemas",this.schemas)}},{key:"del",value:function(){this.$emit("del",this.index),console.log("del"+this.index)}},{key:"updateUI",value:function(t,a,e){console.log("111"),console.log(this.config.data.url),this.isShowPath=t,this.isShowParams=a,this.config.data.url=e}},{key:"showPathConfig",value:function(){this.isShowPath=!this.isShowPath}},{key:"getConfig",value:function(){return this.config.data.userInputData=this.strMapObjChange.strMapToObj(this.$refs.WidgetParams.getVariableValues()),this.config}},{key:"setConfig",value:function(t){this.config=t,this.$refs.WidgetParams.setVariableList(this.pathProcessor.extractVarFromPath(this.config.data.url));var a=this.config.data.userInputData;a=JSON.parse(JSON.stringify(a)),a=this.strMapObjChange.objToStrMap(a),this.userInputData=a,this.$refs.WidgetParams.setVariableInput(this.userInputData)}},{key:"samplePoke",value:function(t){var a,e=t.CFET2CORE_SAMPLE_PATH;a=e;var i,s=0,n=t.Actions.get.Parameters;n=JSON.parse(JSON.stringify(n)),n=this.strMapObjChange.objToStrMap(n),i=n,i.forEach((function(t,e){s++,1==s&&(a+="?"),a=a+e+"=$"+e+"$&"})),0!=s&&(a=a.substring(0,a.length-1)),this.config.data.url=a,this.$parent.$root.$children[0].$children[0].$children[0].config.data.url=a}},{key:"replaceStartPath",value:function(t){this.config.data.url.replace("$startPath$",t)}},{key:"parentUpdate",value:function(t){var a=this,e=!1;this.userInputData=this.strMapObjChange.strMapToObj(this.$refs.WidgetParams.getVariableValues());var i=this.userInputData;i=this.strMapObjChange.objToStrMap(i),this.userInputData=i,this.userInputData.forEach((function(i,s){t.variables.forEach((function(i,n){s==n&&a.userInputData.get(s)!=t.variables.get(n)&&(a.userInputData.set(s,t.variables.get(n)),e=!0)}))})),e&&(this.$refs.WidgetParams.setVariableInput(this.userInputData),this.$refs.WidgetParams.setVariableList(this.pathProcessor.extractVarFromPath(this.config.data.url)))}},{key:"refresh",value:function(){var t={action:"get",variables:this.$refs.WidgetParams.getVariableValues(),target:["self"]};this.viewLoad(t)}},{key:"getData",value:function(){var t=Object(P["a"])(regeneratorRuntime.mark((function t(a){var e,i=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=a,t.next=3,f.a.get(e,{headers:{Pragma:"no-cache","Cache-Control":"no-cache"}}).then((function(t){i.StatusValue=t.data.CFET2CORE_SAMPLE_VAL,void 0==i.StatusValue&&(i.StatusValue=["undefined"])}));case 3:case"end":return t.stop()}}),t)})));function a(a){return t.apply(this,arguments)}return a}()},{key:"viewLoad",value:function(){var t=Object(P["a"])(regeneratorRuntime.mark((function t(a){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.userInputData=a.variables,this.pathwithVar=this.pathProcessor.FillPathWithVar(this.userInputData,this.config.data.url),t.next=4,this.getData(this.pathwithVar);case 4:case"end":return t.stop()}}),t,this)})));function a(a){return t.apply(this,arguments)}return a}()}]),a}(C);Object(d["__decorate"])([Object(p["Prop"])()],Xa.prototype,"index",void 0),Object(d["__decorate"])([Object(p["Prop"])()],Xa.prototype,"widgetList",void 0),Xa=Object(d["__decorate"])([Object(S["b"])({components:{WidgetParams:_,Navigation:A}})],Xa);var Ya=Xa,Qa=Ya,Za=(e("c13e"),Object(I["a"])(Qa,Ha,Ka,!1,null,"7db43b96",null)),te=Za.exports,ae=function(){var t=this,a=t.$createElement;t._self._c;return t._m(0)},ee=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"container",staticStyle:{"margin-top":"30px","margin-left":"0px","margin-right":"0px"}},[e("hr",{staticStyle:{height:"3px",border:"none","border-top":"3px double #aca6a1"}})])}],ie=function(t){function a(){var t;return Object(o["a"])(this,a),t=Object(l["a"])(this,Object(u["a"])(a).apply(this,arguments)),t.widgetList=[],t.pathProcessor=new V,t.strMapObjChange=new $["a"],t.WidgetComponentName="Grid",t.pathId="",t.userInputData=new Map,t.isShowParams=!1,t.config={WidgetComponentName:"Grid",data:{url:"",displayname:"",userInputData:""}},t.EditData={edit:{type:"Grid",index:t.refIndex},props:{color:"",title:""},params:{}},t}return Object(h["a"])(a,t),Object(c["a"])(a,[{key:"created",value:function(){this.config.data.userInputData=this.strMapObjChange.strMapToObj(this.userInputData)}},{key:"mounted",value:function(){var t=document.getElementsByClassName("container"),a=this,e=t[this.index];e.oncontextmenu=function(t){t.preventDefault();var i=document.querySelector(".menu");i&&i.remove(),i=document.createElement("div"),i.classList.add("menu");var s=document.createElement("BUTTON");s.innerHTML="del",s.onclick=a.del,i.appendChild(s);var n=document.createElement("BUTTON");n.innerHTML="edit",n.onclick=a.openWindows,i.appendChild(n),e.appendChild(i),i.style.left=t.offsetX+"px",i.style.top=t.offsetY+"px",i.style.position="absolute",console.log(i.style.top),console.log(i)},e.onclick=function(t){var a=document.querySelector(".menu");a&&!a.contains(t.target)&&a.remove()}}},{key:"del",value:function(){this.$emit("del",this.index)}},{key:"openWindows",value:function(){var t=window.location.origin,a=JSON.stringify(this.EditData),e=encodeURIComponent(a),i=t+"/WindowsAppIndex.html/?";window.open(i+e,"WidgetWindow","height=400, width=800, top=200, left=400, toolbar=no")}},{key:"getConfig",value:function(){return[this.config,this.EditData]}},{key:"setConfig",value:function(t,a){this.config=t[0],this.EditData=t[1]}}]),a}(C);Object(d["__decorate"])([Object(p["Prop"])()],ie.prototype,"index",void 0),Object(d["__decorate"])([Object(p["Prop"])()],ie.prototype,"refIndex",void 0),Object(d["__decorate"])([Object(p["Prop"])()],ie.prototype,"widgetList",void 0),ie=Object(d["__decorate"])([Object(S["b"])({components:{}})],ie);var se=ie,ne=se,re=(e("d330"),Object(I["a"])(ne,ae,ee,!1,null,"10eb59f0",null)),oe=re.exports,ce=function(t){function a(){var t;return Object(o["a"])(this,a),t=Object(l["a"])(this,Object(u["a"])(a).apply(this,arguments)),t.widgetList=[],t.fileName="widgetTemplate.json",t.lastWidgetIndex=0,t.isShowAddWidget=!1,t.isShowConfig=!1,t.text="",t.OpenWindow=!1,t.isShowDrag=!1,t.isShowRes=!1,t.fragment="",t.availableWidgets=["Status","LabelStatus","Config","BoolConfig","WaveView","Method","Thing","State","BoolState","VarBroadcast","AutoBroadcast","SlideShow","CardReader","Navigation","Grid"],t}return Object(h["a"])(a,t),Object(c["a"])(a,[{key:"deleteWidget",value:function(t){this.widgetList.splice(t,1),console.log(t)}},{key:"OpenWindows",value:function(t){this.OpenWindow=t}},{key:"refactor",value:function(){this.isShowDrag=!0,this.isShowRes=!0;var t=document.getElementsByClassName("refactor");console.log(t);for(var a=0;a<t.length;a++)t[a].style.backgroundColor="rgba(238,238,238,0.89)"}},{key:"getSchemas",value:function(t){this.schemas=t}},{key:"toggleShowAddWidget",value:function(){this.isShowAddWidget=!this.isShowAddWidget}},{key:"pokeAndUpdateUI",value:function(t,a){var e=this;p["Vue"].nextTick((function(){e.$refs[t][0].samplePoke(a),e.$refs[t][0].updateUI()}))}},{key:"dataAccess",value:function(t){var a=this;f.a.get(t,{headers:{Pragma:"no-cache","Cache-Control":"no-cache"}}).then((function(t){var e=t.data.CFET2CORE_SAMPLE_PATH;if(console.log(e),e=e.slice(e.lastIndexOf("/")+1),console.log(e),e.startsWith("data")||e.startsWith("Data"))console.log("success"),a.addWidget("WaveView");else{var i=t.data.ResourceType;a.addWidget(i)}var s=(a.lastWidgetIndex-1).toString();a.pokeAndUpdateUI(s,t.data)}))}},{key:"mounted",value:function(){var t=this,a=document.getElementById("appLeftClick"),e=document.getElementsByClassName("refactor");a.onclick=function(a){for(var i=0;i<e.length;i++)e[i].onclick=function(t){t.cancelBubble=!0},t.isShowDrag=!1,t.isShowRes=!1,e[i].style.backgroundColor="white"};var i=window.location.hash;if(console.log("costum"+i),"#blank"!=i&&"#Blank"!=i&&"#"!=i){i=i.substring(1,i.length);var s="/customView/template"+i;console.log(s);f.a.get(s,{headers:{Pragma:"no-cache","Cache-Control":"no-cache"}}).then((function(a){if(1==a.data.CFET2CORE_SAMPLE_ISVALID&&null!=a.data.CFET2CORE_SAMPLE_VAL){var e;!0,e=a.data.CFET2CORE_SAMPLE_VAL;var s=Object.assign(new b,JSON.parse(e));t.widgetList=s.widgetList,t.lastWidgetIndex=Number(s.currentRef),t.$forceUpdate(),p["Vue"].nextTick((function(){i=i.substring(1,i.length),t.fragment=i,console.log(i),t.importActiveWidgetList(i)}))}else{var n=i;t.dataAccess(n)}})).catch((function(a){alert(a);var e=i;t.dataAccess(e),console.log(e)}))}PubSub.subscribe("VarBroadcast",(function(a,e){console.log('PubSub.subscribe("VarBroadcast');var i=!0,s=!1,n=void 0;try{for(var r,o=t.widgetList[Symbol.iterator]();!(i=(r=o.next()).done);i=!0){var c=r.value;t.$refs[c.ref][0].parentUpdate(e)}}catch(l){s=!0,n=l}finally{try{i||null==o.return||o.return()}finally{if(s)throw n}}}))}},{key:"UpdateWidget",value:function(t){this.$refs[t.edit.index][0].EditData=t,this.$refs[t.edit.index][0].pathPoke(),this.$refs[t.edit.index][0].viewLoad(t.params.Args)}},{key:"exportActiveWidgetList",value:function(){var t=!0,a=!1,e=void 0;try{for(var i,s=this.widgetList[Symbol.iterator]();!(t=(i=s.next()).done);t=!0){var n=i.value;console.log("innn"),n.widgetConfig=this.$refs[n.ref][0].getConfig(),console.log(n.widgetConfig)}}catch(o){a=!0,e=o}finally{try{t||null==s.return||s.return()}finally{if(a)throw e}}var r=new b;return r.widgetList=this.widgetList,r.currentRef=this.lastWidgetIndex.toString(),r}},{key:"importActiveWidgetList",value:function(t){var a=!0,e=!1,i=void 0;try{for(var s,n=this.widgetList[Symbol.iterator]();!(a=(s=n.next()).done);a=!0){var r=s.value;console.log(t),this.$refs[r.ref][0].setConfig(r.widgetConfig,t)}}catch(o){e=!0,i=o}finally{try{a||null==n.return||n.return()}finally{if(e)throw i}}}},{key:"loadTextFromFile",value:function(t){var a,e=this,i=t.target.files[0],s=new FileReader;s.readAsText(i),s.onload=function(t){a=Object.assign(new b,JSON.parse(t.target.result)),e.widgetList=a.widgetList,e.lastWidgetIndex=Number(a.currentRef),e.$forceUpdate(),p["Vue"].nextTick((function(){e.importActiveWidgetList(e.fragment)}))}}},{key:"saveWidgetList",value:function(){var t=JSON.stringify(this.exportActiveWidgetList()),a=new Blob([t]);if(window.navigator.msSaveOrOpenBlob)navigator.msSaveBlob(a,this.fileName);else{var e=document.createElement("a");e.download=this.fileName,e.href=URL.createObjectURL(a),e.click(),URL.revokeObjectURL(e.href)}}},{key:"addWidget",value:function(t){var a=new v;a.widgetComponentName=t,a.ref=this.lastWidgetIndex.toString(),a.y=6*this.lastWidgetIndex,a.i=Number(a.ref),this.lastWidgetIndex++,this.widgetList=[].concat(Object(r["a"])(this.widgetList),[a])}},{key:"update",value:function(t){var a=!0,e=!1,i=void 0;try{for(var s,n=this.widgetList[Symbol.iterator]();!(a=(s=n.next()).done);a=!0){var r=s.value;this.$refs[r.ref].parentUpdate(t)}}catch(d){e=!0,i=d}finally{try{a||null==n.return||n.return()}finally{if(e)throw i}}if(""==t.action){var o=!0,c=!1,l=void 0;try{for(var u,h=this.widgetList[Symbol.iterator]();!(o=(u=h.next()).done);o=!0){r=u.value;this.$refs[r.ref].refresh()}}catch(d){c=!0,l=d}finally{try{o||null==h.return||h.return()}finally{if(c)throw l}}}}}]),a}(p["Vue"]);ce=Object(d["__decorate"])([Object(p["Component"])({components:{Status:Z,LabelStatus:rt,WaveView:Nt,Method:zt,Config:Qt,BoolConfig:na,Thing:da,GridLayout:m["GridLayout"],GridItem:m["GridItem"],State:wa,BoolState:Oa,VarBroadcast:$a,AutoBroadcast:Aa,SlideShow:qa,CardReader:te,Windows:q,Navigation:pt,Grid:oe}})],ce);var le=ce,ue=le,he=(e("5c0b"),Object(I["a"])(ue,s,n,!1,null,null,null)),de=he.exports,pe=e("289d"),ge=e("4328"),fe=e.n(ge);f.a.defaults.timeout=5e3,f.a.defaults.headers["Pragma"]="no-cache",f.a.defaults.headers["Cache-Control"]="no-cache",f.a.defaults.headers["X-Requested-with"]="XMLHttpRequest",f.a.defaults.headers["Content-Type"]="application/x-www-form-urlencoded;charset=UTF-8",f.a.defaults.headers["Access-Control-Allow-Origin"]="*",f.a.defaults.headers.common["Content-Type"]="application/json;charset=UTF-8",f.a.defaults.headers.common["X-Requested-With"]="XMLHttpRequest",f.a.defaults.withCredentials=!0,f.a.defaults.withCredentials=!1,f.a.interceptors.request.use((function(t){return t.headers.common["Access-Control-Allow-Origin"]="*","post"===t.method&&(t.data=fe.a.stringify(t.data)),t}),(function(t){return Promise.reject(t)})),f.a.interceptors.response.use((function(t){if(t.data.code)switch(t.data.code){case 1002:store.state.isLogin=!1,router.replace({path:"login",query:{redirect:router.currentRoute.fullPath}})}return t}),(function(t){return Promise.reject(t)})),i["default"].prototype.$static="",window.$axios=f.a;var me=e("bc23"),ve=e("527e"),be=e.n(ve),we=e("f206"),ye=e.n(we),Pe=(e("db4d"),e("d6d3")),Se=e.n(Pe);e("451f"),e("fda2");i["default"].use(pe["a"]),i["default"].use(ye.a),i["default"].use(be.a),i["default"].config.productionTip=!1,i["default"].use(me),i["default"].use(Se.a);var Ce=new i["default"]({render:function(t){return t(de)}}).$mount("#app");i["default"].prototype.$axios=void 0,window.UpdateWidget=Ce.$children[0].UpdateWidget},d330:function(t,a,e){"use strict";var i=e("4919"),s=e.n(i);s.a},d77c:function(t,a,e){},e332:function(t,a,e){},e500:function(t,a,e){},f0bd:function(t,a,e){},f855:function(t,a,e){"use strict";var i=e("a899"),s=e.n(i);s.a},fc66:function(t,a,e){}});
//# sourceMappingURL=App.3be64f56.js.map