(function(t){function a(a){for(var i,n,o=a[0],l=a[1],u=a[2],p=0,c=[];p<o.length;p++)n=o[p],Object.prototype.hasOwnProperty.call(s,n)&&s[n]&&c.push(s[n][0]),s[n]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(t[i]=l[i]);d&&d(a);while(c.length)c.shift()();return r.push.apply(r,u||[]),e()}function e(){for(var t,a=0;a<r.length;a++){for(var e=r[a],i=!0,o=1;o<e.length;o++){var l=e[o];0!==s[l]&&(i=!1)}i&&(r.splice(a--,1),t=n(n.s=e[0]))}return t}var i={},s={WindowsApp:0},r=[];function n(a){if(i[a])return i[a].exports;var e=i[a]={i:a,l:!1,exports:{}};return t[a].call(e.exports,e,e.exports,n),e.l=!0,e.exports}n.m=t,n.c=i,n.d=function(t,a,e){n.o(t,a)||Object.defineProperty(t,a,{enumerable:!0,get:e})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,a){if(1&a&&(t=n(t)),8&a)return t;if(4&a&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(n.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&a&&"string"!=typeof t)for(var i in t)n.d(e,i,function(a){return t[a]}.bind(null,i));return e},n.n=function(t){var a=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(a,"a",a),a},n.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)},n.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=a,o=o.slice();for(var u=0;u<o.length;u++)a(o[u]);var d=l;r.push([4,"chunk-vendors"]),e()})({0:function(t,a){},"18d8":function(t,a,e){"use strict";e.r(a);e("e260"),e("e6cf"),e("cca6"),e("a79d");var i=e("2b0e"),s=e("289d"),r=(e("5abe"),function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"container"},[e("hr"),e("div",[t._v("2020.9 windows.open 'for widget windows'")]),e("hr"),e("table",{staticClass:"table"},[t._m(0),e("tbody",[e("tr",{staticClass:"is-selected is-fullwidth"},[e("th",[t._v(t._s(t.EditData.edit.type))]),e("td",[t._v("Enter the Thing in the input box below, ")]),e("td",[t._v("click 'POKE' to get the parameters")])]),"Navigation"===t.EditData.edit.type?e("tr",[e("td",[e("button",{staticClass:"button has-text-primary",staticStyle:{"margin-left":"15px"},on:{click:t.addInput}},[t._v("Add Input")])]),e("td",[e("table",{staticClass:"table"},t._l(t.EditData.edit.UserInnputUrl,(function(a,i){return e("tbody",{key:i},[e("tr",[e("input",{directives:[{name:"model",rawName:"v-model",value:a.url,expression:"data.url"}],staticClass:"input has-text-primary",domProps:{value:a.url},on:{input:function(e){e.target.composing||t.$set(a,"url",e.target.value)}}})]),e("tr",[e("button",{on:{click:function(a){return t.deleteRow(i)}}},[t._v("删除")])])])})),0)])]):t._e(),"WavaView"!==t.EditData.edit.type?e("tr",[e("th",[t._v("url:")]),e("td",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.InputUrl,expression:"InputUrl"}],staticClass:"input has-text-primary",attrs:{type:"text"},domProps:{value:t.InputUrl},on:{input:function(a){a.target.composing||(t.InputUrl=a.target.value)}}})]),e("td",[e("button",{staticClass:"button has-text-primary",staticStyle:{"margin-left":"15px"},on:{click:t.pathPoke}},[t._v("POKE")]),e("button",{staticClass:"button has-text-primary",staticStyle:{"margin-left":"15px"},on:{click:t.ParseUrl}},[t._v("ParseUrl")])])]):t._e(),"WavaView"===t.EditData.edit.type?e("tr",[e("th",[t._v("Path:")]),e("td",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.InputPath,expression:"InputPath"}],staticClass:"input has-text-primary",attrs:{type:"text"},domProps:{value:t.InputPath},on:{input:function(a){a.target.composing||(t.InputPath=a.target.value)}}})])]):t._e(),"WavaView"===t.EditData.edit.type?e("tr",[e("th",[t._v("TimePath:")]),e("td",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.InputTimePath,expression:"InputTimePath"}],staticClass:"input has-text-primary",attrs:{type:"text"},domProps:{value:t.InputTimePath},on:{input:function(a){a.target.composing||(t.InputTimePath=a.target.value)}}})]),e("td",[e("button",{staticClass:"button has-text-primary",staticStyle:{"margin-left":"15px"},on:{click:t.pathPokeTimePath}},[t._v("POKE")]),e("button",{staticClass:"button has-text-primary",staticStyle:{"margin-left":"15px"},on:{click:t.ParseUrl}},[t._v("ParseUrl")])])]):t._e(),t._l(t.EditData.props,(function(a,i){return e("tr",{key:i},["StateIndicatorFile"!==i?e("th",[t._v(t._s(i))]):t._e(),"StateIndicatorFile"!==i?e("td",["titleSize"!==i?e("input",{directives:[{name:"model",rawName:"v-model",value:t.EditData.props[i],expression:"EditData.props[key]"}],staticClass:"input has-text-primary",attrs:{type:"text"},domProps:{value:t.EditData.props[i]},on:{input:function(a){a.target.composing||t.$set(t.EditData.props,i,a.target.value)}}}):t._e(),"titleSize"===i?e("div",{staticClass:"select"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.EditData.props.titleSize,expression:"EditData.props.titleSize"}],on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.$set(t.EditData.props,"titleSize",a.target.multiple?e:e[0])}}},[e("option",[t._v("is-small")]),e("option",[t._v("is-medium")]),e("option",[t._v("is-large")])])]):t._e()]):t._e(),"StateIndicatorFile"!==i?e("td",["unit"===i?e("div",[e("toggle-button",{attrs:{width:"80",height:"30","switch-color":"{checked: '#25EF02', unchecked: 'linear-gradient(red, yellow)'}",labels:{checked:"show",unchecked:"hide"}},model:{value:t.EditData.edit.isShowStateVlaue,callback:function(a){t.$set(t.EditData.edit,"isShowStateVlaue",a)},expression:"EditData.edit.isShowStateVlaue"}})],1):t._e(),"EventType"===i?e("div",[e("toggle-button",{attrs:{width:"80",height:"30","switch-color":"{checked: '#25EF02', unchecked: 'linear-gradient(red, yellow)'}",labels:{checked:"show",unchecked:"hide"}},model:{value:t.EditData.edit.isSubscribe,callback:function(a){t.$set(t.EditData.edit,"isSubscribe",a)},expression:"EditData.edit.isSubscribe"}})],1):t._e()]):t._e()])})),t._l(t.EditData.props.StateIndicatorFile,(function(a,i){return e("tr",{key:i},[e("th",[t._v(t._s(i))]),e("td",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.EditData.props.StateIndicatorFile[i],expression:"EditData.props.StateIndicatorFile[key]"}],staticClass:"input has-text-primary",attrs:{type:"text"},domProps:{value:t.EditData.props.StateIndicatorFile[i]},on:{input:function(a){a.target.composing||t.$set(t.EditData.props.StateIndicatorFile,i,a.target.value)}}})])])})),"state"===t.EditData.edit.type?e("tr",[e("th",[t._v("ShowStateValue")]),e("td",[e("toggle-button",{attrs:{width:"80",height:"30","switch-color":"{checked: '#25EF02', unchecked: 'linear-gradient(red, yellow)'}",labels:{checked:"show",unchecked:"hide"}},model:{value:t.EditData.edit.isShowStateVlaue,callback:function(a){t.$set(t.EditData.edit,"isShowStateVlaue",a)},expression:"EditData.edit.isShowStateVlaue"}})],1)]):t._e(),e("tr",{directives:[{name:"show",rawName:"v-show",value:t.isShowParams,expression:"isShowParams"}]},[e("th",[t._v("Params")]),e("td",t._l(t.userInputData.keys(),(function(a,i){return e("div",{key:i,staticClass:"column"},[e("div",{staticClass:"field is-horizontal",staticStyle:{margin:"5px"}},[e("div",{staticClass:"field-label is-normal"},[e("label",{staticClass:"label"},[t._v(t._s(a))])]),e("div",{staticClass:"field-body"},[e("div",{staticClass:"field"},[e("div",{staticClass:"control"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.EditData.params.tempUserInputData[a],expression:"EditData.params.tempUserInputData[label]"}],staticClass:"input",attrs:{type:"text"},domProps:{value:t.EditData.params.tempUserInputData[a]},on:{input:function(e){e.target.composing||t.$set(t.EditData.params.tempUserInputData,a,e.target.value)}}})])])])])])})),0)]),e("tr",{directives:[{name:"show",rawName:"v-show",value:t.isShowParseUrl,expression:"isShowParseUrl"}]},[e("th",[t._v("Params")]),e("td",t._l(t.userInputData.keys(),(function(a,i){return e("div",{key:i,staticClass:"column"},[e("div",{staticClass:"field is-horizontal",staticStyle:{margin:"5px"}},[e("div",{staticClass:"field-label is-normal"},[e("label",{staticClass:"label"},[t._v(t._s(a))])]),e("div",{staticClass:"field-body"},[e("div",{staticClass:"field"},[e("div",{staticClass:"control"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.EditData.params.tempUserInputData[a],expression:"EditData.params.tempUserInputData[label]"}],staticClass:"input",attrs:{type:"text"},domProps:{value:t.EditData.params.tempUserInputData[a]},on:{input:function(e){e.target.composing||t.$set(t.EditData.params.tempUserInputData,a,e.target.value)}}})])])]),e("toggle-button",{staticStyle:{"margin-left":"15px"},attrs:{width:"80",height:"30","switch-color":"{checked: '#25EF02', unchecked: 'linear-gradient(red, yellow)'}",labels:{checked:"config",unchecked:"hide"}},on:{change:function(e){return t.SetLoad(a)}},model:{value:t.isShowConfig,callback:function(a){t.isShowConfig=a},expression:"isShowConfig"}})],1)])})),0)]),e("tr",[e("th",[t._v("Finish")]),e("td",[e("button",{staticClass:"button is-light ",on:{click:t.apply}},[t._v(" Apply")])])])],2)])])}),n=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("thead",[e("tr",[e("th",[e("abbr",[t._v("Edit Widget")])])])])}],o=e("b85c"),l=e("d4ec"),u=e("bee2"),d=e("262e"),p=e("2caf"),c=(e("4ec9"),e("d3b7"),e("3ca3"),e("ddb0"),e("a434"),e("ac1f"),e("841c"),e("5319"),e("159b"),e("9ab4")),h=e("1b40"),m=(e("466d"),function(){function t(){Object(l["a"])(this,t)}return Object(u["a"])(t,[{key:"FillPathWithVar",value:function(t,a){var e=/(?<=\$)\w*(?=\$)/g,i="",s=a.match(e);return console.log(s),null!=s&&t.forEach((function(t,e){s.forEach((function(s){s==e&&(i="$"+s+"$",a=a.replace(i,t),console.log(a))}))})),a}},{key:"extractVarFromPath",value:function(t){var a;a=[];var e=/(?<=\$)\w*(?=\$)/g,i=t.match(e);return null!=i&&i.forEach((function(t){""!=t&&a.push(t)})),console.log("extract"+a),a}}]),t}()),v=e("3835"),f=(e("b64b"),function(){function t(){Object(l["a"])(this,t)}return Object(u["a"])(t,[{key:"strMapToObj",value:function(t){var a,e=Object.create(null),i=Object(o["a"])(t);try{for(i.s();!(a=i.n()).done;){var s=Object(v["a"])(a.value,2),r=s[0],n=s[1];e[r]=n}}catch(l){i.e(l)}finally{i.f()}return e}},{key:"objToStrMap",value:function(t){for(var a=new Map,e=0,i=Object.keys(t);e<i.length;e++){var s=i[e];a.set(s,t[s])}return a}}]),t}()),b=function(t){Object(d["a"])(e,t);var a=Object(p["a"])(e);function e(){var t;return Object(l["a"])(this,e),t=a.apply(this,arguments),t.pathProcessor=new m,t.strMapObjChange=new f,t.isShowParams=!1,t.isShowParseUrl=!1,t.userInputData=new Map,t.tempUserInputData={},t.pathwithVar="",t.InputUrl="",t.InputPath="",t.InputTimePath="",t.isShowConfig=!1,t.config={WidgetComponentName:"",data:{url:"",get:{url:"",userInputData:""},set:{url:"",userInputData:""},displayname:"",userInputData:""}},t.EditData={},t}return Object(u["a"])(e,[{key:"created",value:function(){var t=window.location.hash;if(-1!==t.indexOf("?")){var a=t.substr(3);console.log(a);var e=unescape(a);console.log(e);var i=JSON.parse(e);console.log(i),this.EditData=i}}},{key:"mounted",value:function(){this.updateView()}},{key:"updateView",value:function(){""!==this.EditData.edit.parseUrl?(this.InputUrl=this.EditData.edit.parseUrl,this.isShowParseUrl=!0,console.log("1"),this.setVariableList(this.pathProcessor.extractVarFromPath(this.EditData.edit.parseUrl))):""!==this.EditData.edit.url&&"undefined"!==typeof this.EditData.edit.url?(console.log("2"),this.InputUrl=this.EditData.edit.url,this.isShowParams=!0,this.setVariableList(this.pathProcessor.extractVarFromPath(this.EditData.params.PokedPath))):""!==this.EditData.edit.path&&"undefined"!==typeof this.EditData.edit.path&&(console.log("3"),this.InputPath=this.EditData.edit.path,this.InputTimePath=this.EditData.edit.timePath,this.isShowParams=!0,this.setVariableList(this.pathProcessor.extractVarFromPath(this.EditData.params.PokedTimePath)),this.setVariableList(this.pathProcessor.extractVarFromPath(this.EditData.params.PokedPath))),console.log(this.EditData.params.shouldUpdate),!0===this.EditData.params.shouldUpdate&&(this.setVariableInput(this.strMapObjChange.objToStrMap(this.EditData.params.userInputData)),this.EditData.params.shouldUpdate=!1)}},{key:"addInput",value:function(){this.EditData.edit.UserInnputUrl.push({})}},{key:"deleteRow",value:function(t){this.EditData.edit.UserInnputUrl.splice(t,1)}},{key:"apply",value:function(){var t={action:this.EditData.params.action,variables:this.getVariableValues(),target:["self"]};this.EditData.params.Args=t,console.log(this.EditData),this.EditData.params.userInputData=this.userInputData,console.log(this.EditData),window.opener.UpdateWidget(this.EditData)}},{key:"pathPoke",value:function(){this.EditData.edit.parseUrl="",this.EditData.edit.url=this.InputUrl,this.isShowParams=!0,window.opener.UpdateWidget(this.EditData)}},{key:"pathPokeTimePath",value:function(){this.EditData.edit.path=this.InputPath,this.EditData.edit.timePath=this.InputTimePath,this.isShowParams=!0,window.opener.UpdateWidget(this.EditData)}},{key:"ParseUrl",value:function(){this.EditData.edit.url="",this.isShowParams=!1,this.EditData.edit.parseUrl=this.InputUrl,this.isShowParseUrl=!0,this.setVariableList(this.pathProcessor.extractVarFromPath(this.InputUrl)),!0===this.EditData.params.shouldUpdate&&(this.setVariableInput(this.strMapObjChange.objToStrMap(this.EditData.params.userInputData)),this.EditData.params.shouldUpdate=!1)}},{key:"SetLoad",value:function(t){if(!0===this.isShowConfig&&(this.EditData.edit.setConfigUrl=this.EditData.edit.parseUrl,-1!==this.EditData.edit.parseUrl.search(t))){var a="/$"+t+"$";this.EditData.edit.parseUrl=this.EditData.edit.parseUrl.replace(a,""),this.EditData.edit.setLabel=t}}},{key:"setVariableInput",value:function(t){console.log(t);var a,e=Object(o["a"])(t.keys());try{for(e.s();!(a=e.n()).done;){var i=a.value;this.tempUserInputData[i]=t.get(i)}}catch(s){e.e(s)}finally{e.f()}console.log(this.tempUserInputData),this.EditData.params.tempUserInputData=this.tempUserInputData}},{key:"setVariableList",value:function(t){var a=this;this.userInputData.clear(),t.forEach((function(t){a.userInputData.set(t,"")})),console.log(this.userInputData),this.$forceUpdate()}},{key:"getVariableValues",value:function(){var t,a=Object(o["a"])(this.userInputData.keys());try{for(a.s();!(t=a.n()).done;){var e=t.value;this.userInputData.set(e,this.EditData.params.tempUserInputData[e])}}catch(i){a.e(i)}finally{a.f()}return this.userInputData}}]),e}(h["Vue"]);b=Object(c["__decorate"])([Object(h["Component"])({components:{}})],b);var D=b,g=D,y=(e("dca1"),e("2877")),E=Object(y["a"])(g,r,n,!1,null,null,null),w=E.exports,P=e("bc23"),I=e("f206"),k=e.n(I),S=(e("db4d"),e("d6d3")),_=e.n(S);e("451f"),e("fda2");i["default"].use(s["a"]),i["default"].use(k.a),i["default"].config.productionTip=!1,i["default"].use(P),i["default"].use(_.a),new i["default"]({render:function(t){return t(w)}}).$mount("#WindowsApp")},4:function(t,a,e){t.exports=e("18d8")},cf58:function(t,a,e){},dca1:function(t,a,e){"use strict";e("cf58")}});